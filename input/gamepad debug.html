<!DOCTYPE html>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<link href="../css/site.css" rel="stylesheet" />
<link href="../css/rouge.css" rel="stylesheet" />
<title>input/gamepad debug &ndash; Phaser Examples</title>
<div id="phaser-example"></div>
<div class="controls">
  <button id="fullscreen">Full Screen</button> <button id="restart">Restart</button> <label for="scaleMode">scale:</label> <select id="scaleMode">
    <option value="0">
      Exact Fit
    </option>
    <option selected value="1">
      No Scale
    </option>
    <option value="2">
      Show All
    </option>
    <option value="3">
      Resize
    </option>
    <option value="4">
      User Scale
    </option>
  </select> <label for="userScale">user scale:</label><select id="userScale">
    <option>
      0.25
    </option>
    <option>
      0.5
    </option>
    <option>
      0.75
    </option>
    <option selected>
      1
    </option>
    <option>
      2
    </option>
  </select> <label for="rendering">rendering:</label> <select id="rendering">
    <option>
      auto
    </option>
    <option>
      crisp-edges
    </option>
    <option>
      pixelated
    </option>
  </select> <label title="Enlarge the game container (on larger displays)"><input id="bigger" type="checkbox">Bigger</label>
</div>
<h1>
  input/gamepad debug
</h1>
<div class="sourcelinks">
  <a href="../js/node_modules/phaser-examples/examples/input/gamepad%20debug.js" title="input/gamepad debug.js">source</a> â€¢ <a href="../js/node_modules/phaser-examples/examples/input/gamepad%20debug.js" download="" title="Download: input/gamepad debug.js" type="application/javascript">download</a>
</div><pre class="highlight javascript"><code>
<span class="kd">var</span> <span class="nx">game</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Phaser</span><span class="p">.</span><span class="nx">Game</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="nx">Phaser</span><span class="p">.</span><span class="nx">AUTO</span><span class="p">,</span> <span class="s1">'phaser-example'</span><span class="p">,</span> <span class="p">{</span> <span class="na">preload</span><span class="p">:</span> <span class="nx">preload</span><span class="p">,</span> <span class="na">create</span><span class="p">:</span> <span class="nx">create</span><span class="p">,</span> <span class="na">update</span><span class="p">:</span> <span class="nx">update</span> <span class="p">});</span>

<span class="kd">function</span> <span class="nx">preload</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">game</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">spritesheet</span><span class="p">(</span><span class="s1">'start-input-button'</span><span class="p">,</span> <span class="s1">'assets/buttons/gamepad-input-start.png'</span><span class="p">,</span> <span class="mi">168</span><span class="p">,</span><span class="mi">70</span><span class="p">);</span>
    <span class="nx">game</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">image</span><span class="p">(</span><span class="s1">'reset-buttons'</span><span class="p">,</span><span class="s1">'assets/buttons/gamepad-reset-buttons.png'</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">startInputButton</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">resetButton</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">supportedText</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">activeText</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">gamepadCountText</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">pad1</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">pad1Text</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">pad2</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">pad2Text</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">pad3</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">pad3Text</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">pad4</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">pad4Text</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">activityPad1Text</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">activityPad2Text</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">activityPad3Text</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">activityPad4Text</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">activityGlobalText</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">pad1StateText</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">pad2StateText</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">pad3StateText</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">pad4StateText</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">create</span><span class="p">()</span> <span class="p">{</span>

    <span class="nx">game</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">backgroundColor</span> <span class="o">=</span> <span class="s1">'#222222'</span><span class="p">;</span>
    <span class="nx">startInputButton</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">button</span><span class="p">(</span><span class="mi">625</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">'start-input-button'</span><span class="p">,</span> <span class="nx">onStartInput</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="nx">resetButton</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">button</span><span class="p">(</span><span class="mi">425</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">'reset-buttons'</span><span class="p">,</span> <span class="nx">onResetButtons</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>

    <span class="nx">pad1</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">gamepad</span><span class="p">.</span><span class="nx">pad1</span><span class="p">;</span>
    <span class="nx">pad2</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">gamepad</span><span class="p">.</span><span class="nx">pad2</span><span class="p">;</span>
    <span class="nx">pad3</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">gamepad</span><span class="p">.</span><span class="nx">pad3</span><span class="p">;</span>
    <span class="nx">pad4</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">gamepad</span><span class="p">.</span><span class="nx">pad4</span><span class="p">;</span>

    <span class="nx">setupText</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">onStartInput</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">gamepad</span><span class="p">.</span><span class="nx">active</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">gamepad</span><span class="p">.</span><span class="nx">stop</span><span class="p">();</span>
        <span class="nx">startInputButton</span><span class="p">.</span><span class="nx">setFrames</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">gamepad</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>
        <span class="nx">startInputButton</span><span class="p">.</span><span class="nx">setFrames</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">pad1</span><span class="p">.</span><span class="nx">_axesLen</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">onResetButtons</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">gamepad</span><span class="p">.</span><span class="nx">reset</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">update</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">supportedText</span><span class="p">.</span><span class="nx">setText</span><span class="p">(</span><span class="s1">'Gamepad supported in this browser: '</span><span class="o">+</span><span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">gamepad</span><span class="p">.</span><span class="nx">supported</span><span class="p">);</span>
    <span class="nx">activeText</span><span class="p">.</span><span class="nx">setText</span><span class="p">(</span><span class="s1">'Gamepad input active: '</span><span class="o">+</span><span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">gamepad</span><span class="p">.</span><span class="nx">active</span><span class="p">);</span>
    <span class="nx">gamepadCountText</span><span class="p">.</span><span class="nx">setText</span><span class="p">(</span><span class="s1">'Gamepads connected: '</span><span class="o">+</span><span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">gamepad</span><span class="p">.</span><span class="nx">padsConnected</span><span class="p">);</span>

    <span class="nx">updatePadStatusText</span><span class="p">(</span><span class="nx">pad1</span><span class="p">.</span><span class="nx">_rawPad</span><span class="p">,</span> <span class="nx">pad1Text</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="nx">updatePadStatusText</span><span class="p">(</span><span class="nx">pad2</span><span class="p">.</span><span class="nx">_rawPad</span><span class="p">,</span> <span class="nx">pad2Text</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="nx">updatePadStatusText</span><span class="p">(</span><span class="nx">pad3</span><span class="p">.</span><span class="nx">_rawPad</span><span class="p">,</span> <span class="nx">pad3Text</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
    <span class="nx">updatePadStatusText</span><span class="p">(</span><span class="nx">pad4</span><span class="p">.</span><span class="nx">_rawPad</span><span class="p">,</span> <span class="nx">pad4Text</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>

    <span class="nx">updatePadsButtonsAxes</span><span class="p">(</span><span class="nx">pad1</span><span class="p">.</span><span class="nx">_rawPad</span><span class="p">,</span> <span class="nx">pad1StateText</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="nx">updatePadsButtonsAxes</span><span class="p">(</span><span class="nx">pad2</span><span class="p">.</span><span class="nx">_rawPad</span><span class="p">,</span> <span class="nx">pad2StateText</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="nx">updatePadsButtonsAxes</span><span class="p">(</span><span class="nx">pad3</span><span class="p">.</span><span class="nx">_rawPad</span><span class="p">,</span> <span class="nx">pad3StateText</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
    <span class="nx">updatePadsButtonsAxes</span><span class="p">(</span><span class="nx">pad4</span><span class="p">.</span><span class="nx">_rawPad</span><span class="p">,</span> <span class="nx">pad4StateText</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">updatePadStatusText</span><span class="p">(</span><span class="nx">rawPad</span><span class="p">,</span> <span class="nx">padText</span><span class="p">,</span> <span class="nx">num</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">rawPad</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">padText</span><span class="p">.</span><span class="nx">setText</span><span class="p">(</span><span class="s1">'Pad '</span><span class="o">+</span><span class="nx">num</span><span class="o">+</span><span class="s1">': [ index: '</span><span class="o">+</span><span class="nx">rawPad</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span><span class="o">+</span><span class="s1">' | id: '</span><span class="o">+</span><span class="nx">rawPad</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span>
            <span class="o">+</span><span class="s1">' | timestamp: '</span><span class="o">+</span><span class="nx">rawPad</span><span class="p">[</span><span class="s1">'timestamp'</span><span class="p">]</span><span class="o">+</span><span class="s1">']'</span>
            <span class="o">+</span><span class="s1">' | buttons: '</span><span class="o">+</span><span class="nx">rawPad</span><span class="p">.</span><span class="nx">buttons</span><span class="p">.</span><span class="nx">length</span>
            <span class="o">+</span><span class="s1">' | axes: '</span><span class="o">+</span><span class="nx">rawPad</span><span class="p">.</span><span class="nx">axes</span><span class="p">.</span><span class="nx">length</span>
        <span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">padText</span><span class="p">.</span><span class="nx">setText</span><span class="p">(</span><span class="s1">'Pad '</span><span class="o">+</span><span class="nx">num</span><span class="o">+</span><span class="s1">': Not connected'</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">updatePadsButtonsAxes</span><span class="p">(</span><span class="nx">rawPad</span><span class="p">,</span> <span class="nx">padStateText</span><span class="p">,</span> <span class="nx">num</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">rawPad</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">txt</span> <span class="o">=</span> <span class="s1">'Pad '</span><span class="o">+</span><span class="nx">num</span><span class="o">+</span><span class="s1">' buttons/axes: \n'</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">rawPad</span><span class="p">.</span><span class="nx">buttons</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// txt += 'Button '+i+': '+rawPad.buttons[i].pressed+'\n';</span>
            <span class="nx">txt</span> <span class="o">+=</span> <span class="s1">'Button '</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="s1">': '</span><span class="o">+</span><span class="nx">rawPad</span><span class="p">.</span><span class="nx">buttons</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">value</span><span class="o">+</span><span class="s1">'\n'</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">rawPad</span><span class="p">.</span><span class="nx">axes</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">txt</span> <span class="o">+=</span> <span class="s1">'Axis '</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="s1">': '</span><span class="o">+</span><span class="nx">rawPad</span><span class="p">.</span><span class="nx">axes</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">+</span><span class="s1">'\n'</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">padStateText</span><span class="p">.</span><span class="nx">setText</span><span class="p">(</span><span class="nx">txt</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">setupText</span><span class="p">()</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">style</span> <span class="o">=</span> <span class="p">{</span> <span class="na">font</span><span class="p">:</span> <span class="s2">"12px Arial"</span><span class="p">,</span> <span class="na">fill</span><span class="p">:</span> <span class="s2">"#ffffff"</span><span class="p">,</span> <span class="na">align</span><span class="p">:</span> <span class="s2">"left"</span> <span class="p">};</span>
    <span class="kd">var</span> <span class="nx">tinyStyle</span> <span class="o">=</span> <span class="p">{</span> <span class="na">font</span><span class="p">:</span> <span class="s2">"10px Arial"</span><span class="p">,</span> <span class="na">fill</span><span class="p">:</span> <span class="s2">"#ffffff"</span><span class="p">,</span> <span class="na">align</span><span class="p">:</span> <span class="s2">"left"</span> <span class="p">};</span>
    <span class="nx">supportedText</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">'Gamepad supported in this browser: '</span><span class="o">+</span><span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">gamepad</span><span class="p">.</span><span class="nx">supported</span><span class="p">,</span> <span class="nx">style</span><span class="p">);</span>
    <span class="nx">activeText</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">'Gamepad input active: '</span><span class="o">+</span><span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">gamepad</span><span class="p">.</span><span class="nx">active</span><span class="p">,</span> <span class="nx">style</span><span class="p">);</span>
    <span class="nx">gamepadCountText</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="s1">'Gamepads connected: '</span><span class="o">+</span><span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">gamepad</span><span class="p">.</span><span class="nx">padsConnected</span><span class="p">,</span> <span class="nx">style</span><span class="p">);</span>
    <span class="nx">pad1StateText</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="s1">'Pad 1 buttons/axes: '</span><span class="p">,</span> <span class="nx">tinyStyle</span><span class="p">);</span>
    <span class="nx">pad2StateText</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="s1">'Pad 2 buttons/axes: '</span><span class="p">,</span> <span class="nx">tinyStyle</span><span class="p">);</span>
    <span class="nx">pad3StateText</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="mi">390</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="s1">'Pad 3 buttons/axes: '</span><span class="p">,</span> <span class="nx">tinyStyle</span><span class="p">);</span>
    <span class="nx">pad4StateText</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="mi">580</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="s1">'Pad 4 buttons/axes: '</span><span class="p">,</span> <span class="nx">tinyStyle</span><span class="p">);</span>

    <span class="c1">// Setting up infotext and callbacks for all separate four gamepads</span>

    <span class="nx">pad1</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">gamepad</span><span class="p">.</span><span class="nx">pad1</span><span class="p">;</span>
    <span class="nx">pad1Text</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="s1">'Pad 1: '</span><span class="p">,</span> <span class="nx">style</span><span class="p">);</span>
    <span class="nx">pad2</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">gamepad</span><span class="p">.</span><span class="nx">pad2</span><span class="p">;</span>
    <span class="nx">pad2Text</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">'Pad 2: '</span><span class="p">,</span> <span class="nx">style</span><span class="p">);</span>
    <span class="nx">pad3</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">gamepad</span><span class="p">.</span><span class="nx">pad3</span><span class="p">;</span>
    <span class="nx">pad3Text</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="s1">'Pad 3: '</span><span class="p">,</span> <span class="nx">style</span><span class="p">);</span>
    <span class="nx">pad4</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">gamepad</span><span class="p">.</span><span class="nx">pad4</span><span class="p">;</span>
    <span class="nx">pad4Text</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span> <span class="s1">'Pad 4: '</span><span class="p">,</span> <span class="nx">style</span><span class="p">);</span>

    <span class="nx">activityPad1Text</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="s1">'Last activity pad 1: '</span><span class="p">,</span> <span class="nx">style</span><span class="p">);</span>
    <span class="nx">addPadCallbacks</span><span class="p">(</span><span class="nx">pad1</span><span class="p">,</span> <span class="nx">activityPad1Text</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

    <span class="nx">activityPad2Text</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="s1">'Last activity pad 2: '</span><span class="p">,</span> <span class="nx">style</span><span class="p">);</span>
    <span class="nx">addPadCallbacks</span><span class="p">(</span><span class="nx">pad2</span><span class="p">,</span> <span class="nx">activityPad2Text</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>

    <span class="nx">activityPad3Text</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">220</span><span class="p">,</span> <span class="s1">'Last activity pad 3: '</span><span class="p">,</span> <span class="nx">style</span><span class="p">);</span>
    <span class="nx">addPadCallbacks</span><span class="p">(</span><span class="nx">pad3</span><span class="p">,</span> <span class="nx">activityPad3Text</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>

    <span class="nx">activityPad4Text</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">240</span><span class="p">,</span> <span class="s1">'Last activity pad 4: '</span><span class="p">,</span> <span class="nx">style</span><span class="p">);</span>
    <span class="nx">addPadCallbacks</span><span class="p">(</span><span class="nx">pad4</span><span class="p">,</span> <span class="nx">activityPad4Text</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>

    <span class="nx">activityGlobalText</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">270</span><span class="p">,</span> <span class="s1">'Last activity all pads: '</span><span class="p">,</span> <span class="nx">style</span><span class="p">);</span>



    <span class="c1">// Here we're setting callbacks that will trigger from ALL gamepads connected</span>
    <span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">gamepad</span><span class="p">.</span><span class="nx">addCallbacks</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">onConnect</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">padIndex</span><span class="p">){</span>
            <span class="nx">activityGlobalText</span><span class="p">.</span><span class="nx">setText</span><span class="p">(</span><span class="s1">'Last activity all pads: Connected with pad index '</span><span class="o">+</span><span class="nx">padIndex</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="na">onDisconnect</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">padIndex</span><span class="p">){</span>
            <span class="nx">activityGlobalText</span><span class="p">.</span><span class="nx">setText</span><span class="p">(</span><span class="s1">'Last activity all pads: Disconnected with pad index '</span><span class="o">+</span><span class="nx">padIndex</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="na">onDown</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">buttonCode</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">padIndex</span><span class="p">){</span>
            <span class="nx">activityGlobalText</span><span class="p">.</span><span class="nx">setText</span><span class="p">(</span><span class="s1">'Last activity all pads: Pad index '</span><span class="o">+</span><span class="nx">padIndex</span><span class="o">+</span><span class="s1">' buttonCode: '</span><span class="o">+</span><span class="nx">buttonCode</span><span class="o">+</span><span class="s1">' | value: '</span><span class="o">+</span><span class="nx">value</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="na">onUp</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">buttonCode</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">padIndex</span><span class="p">){</span>
            <span class="nx">activityGlobalText</span><span class="p">.</span><span class="nx">setText</span><span class="p">(</span><span class="s1">'Last activity all pads: Pad index '</span><span class="o">+</span><span class="nx">padIndex</span><span class="o">+</span><span class="s1">' buttonCode: '</span><span class="o">+</span><span class="nx">buttonCode</span><span class="o">+</span><span class="s1">' | value: '</span><span class="o">+</span><span class="nx">value</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="na">onAxis</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">pad</span><span class="p">,</span> <span class="nx">axis</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">activityGlobalText</span><span class="p">.</span><span class="nx">setText</span><span class="p">(</span><span class="s1">'Last activity all pads: Pad index '</span><span class="o">+</span><span class="nx">pad</span><span class="p">.</span><span class="nx">index</span><span class="o">+</span><span class="s1">': axis '</span><span class="o">+</span><span class="nx">axis</span><span class="o">+</span><span class="s1">': '</span><span class="o">+</span><span class="nx">value</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="na">onFloat</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">buttonCode</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">padIndex</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">activityGlobalText</span><span class="p">.</span><span class="nx">setText</span><span class="p">(</span><span class="s1">'Last activity all pads: Pad index '</span><span class="o">+</span><span class="nx">padIndex</span><span class="o">+</span><span class="s1">' buttonCode: '</span><span class="o">+</span><span class="nx">buttonCode</span><span class="o">+</span><span class="s1">' | value (float): '</span><span class="o">+</span><span class="nx">value</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span>



<span class="kd">function</span> <span class="nx">addPadCallbacks</span><span class="p">(</span><span class="nx">pad</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">pad</span><span class="p">.</span><span class="nx">addCallbacks</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">onConnect</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
            <span class="nx">text</span><span class="p">.</span><span class="nx">setText</span><span class="p">(</span><span class="s1">'Last activity pad '</span><span class="o">+</span><span class="nx">index</span><span class="o">+</span><span class="s1">': Connected'</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="na">onDisconnect</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
            <span class="nx">text</span><span class="p">.</span><span class="nx">setText</span><span class="p">(</span><span class="s1">'Last activity pad '</span><span class="o">+</span><span class="nx">index</span><span class="o">+</span><span class="s1">': Disconnected'</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="na">onDown</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">buttonCode</span><span class="p">,</span> <span class="nx">value</span><span class="p">){</span>
            <span class="nx">text</span><span class="p">.</span><span class="nx">setText</span><span class="p">(</span><span class="s1">'Last activity pad '</span><span class="o">+</span><span class="nx">index</span><span class="o">+</span><span class="s1">': buttonCode: '</span><span class="o">+</span><span class="nx">buttonCode</span><span class="o">+</span><span class="s1">' | value: '</span><span class="o">+</span><span class="nx">value</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="na">onUp</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">buttonCode</span><span class="p">,</span> <span class="nx">value</span><span class="p">){</span>
            <span class="nx">text</span><span class="p">.</span><span class="nx">setText</span><span class="p">(</span><span class="s1">'Last activity pad '</span><span class="o">+</span><span class="nx">index</span><span class="o">+</span><span class="s1">': buttonCode: '</span><span class="o">+</span><span class="nx">buttonCode</span><span class="o">+</span><span class="s1">' | value: '</span><span class="o">+</span><span class="nx">value</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="na">onAxis</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">pad</span><span class="p">,</span> <span class="nx">axis</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">text</span><span class="p">.</span><span class="nx">setText</span><span class="p">(</span><span class="s1">'Last activity pad '</span><span class="o">+</span><span class="nx">pad</span><span class="p">.</span><span class="nx">index</span><span class="o">+</span><span class="s1">': axis '</span><span class="o">+</span><span class="nx">axis</span><span class="o">+</span><span class="s1">': '</span><span class="o">+</span><span class="nx">value</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="na">onFloat</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">buttonCode</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">text</span><span class="p">.</span><span class="nx">setText</span><span class="p">(</span><span class="s1">'Last activity pad '</span><span class="o">+</span><span class="nx">index</span><span class="o">+</span><span class="s1">': buttonCode: '</span><span class="o">+</span><span class="nx">buttonCode</span><span class="o">+</span><span class="s1">' | value (float): '</span><span class="o">+</span><span class="nx">value</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span></code></pre>
<meta content="../" name="loadPath">
<footer class="footer">
  <p><a href="https://github.com/samme/phaser-examples-mirror">phaser-examples-mirror</a> from <a href="https://github.com/photonstorm/phaser-examples">photonstorm/phaser-examples</a> (<a href="http://opensource.org/licenses/MIT">MIT License</a>).</p>
  
  <p>This license does <strong>not</strong> cover the graphics or audio files herein. None of them are to be used in commercial games.</p>
  
</footer>
<script>
  this.loadPath = "../";
</script>
<script src="../js/node_modules/phaser-ce/build/phaser.js" defer="defer"></script>
<script src="../js/node_modules/phaser-examples/examples/input/gamepad%20debug.js" defer="defer"></script>
<script src="../js/example.js" defer="defer"></script>