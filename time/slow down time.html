<!DOCTYPE html>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<link href="../css/site.css" rel="stylesheet" />
<link href="../css/rouge.css" rel="stylesheet" />
<title>time/slow down time &ndash; Phaser Examples</title>
<div id="phaser-example"></div>
<div class="controls">
  <button id="fullscreen">Full Screen</button> <button id="restart">Restart</button> <label for="scaleMode">scale:</label> <select id="scaleMode">
    <option value="0">
      Exact Fit
    </option>
    <option selected value="1">
      No Scale
    </option>
    <option value="2">
      Show All
    </option>
    <option value="3">
      Resize
    </option>
    <option value="4">
      User Scale
    </option>
  </select> <label for="userScale">user scale:</label><select id="userScale">
    <option>
      0.25
    </option>
    <option>
      0.5
    </option>
    <option>
      0.75
    </option>
    <option selected>
      1
    </option>
    <option>
      2
    </option>
  </select> <label for="rendering">rendering:</label> <select id="rendering">
    <option>
      auto
    </option>
    <option>
      crisp-edges
    </option>
    <option>
      pixelated
    </option>
  </select> <label title="Enlarge the game container (on larger displays)"><input id="bigger" type="checkbox">Bigger</label>
</div>
<h1>
  time/slow down time
</h1>
<div class="sourcelinks">
  <a href="../js/node_modules/phaser-examples/examples/time/slow%20down%20time.js" title="time/slow down time.js">source</a> â€¢ <a href="../js/node_modules/phaser-examples/examples/time/slow%20down%20time.js" download="" title="Download: time/slow down time.js" type="application/javascript">download</a>
</div><pre class="highlight javascript"><code>
<span class="kd">var</span> <span class="nx">game</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Phaser</span><span class="p">.</span><span class="nx">Game</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="nx">Phaser</span><span class="p">.</span><span class="nx">CANVAS</span><span class="p">,</span> <span class="s1">'phaser-example'</span><span class="p">,</span> <span class="p">{</span> <span class="na">preload</span><span class="p">:</span> <span class="nx">preload</span><span class="p">,</span> <span class="na">create</span><span class="p">:</span> <span class="nx">create</span><span class="p">,</span> <span class="na">update</span><span class="p">:</span> <span class="nx">update</span><span class="p">,</span> <span class="na">render</span><span class="p">:</span> <span class="nx">render</span> <span class="p">});</span>

<span class="kd">function</span> <span class="nx">preload</span><span class="p">()</span> <span class="p">{</span>

    <span class="nx">game</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">image</span><span class="p">(</span><span class="s1">'ball'</span><span class="p">,</span> <span class="s1">'assets/sprites/pangball.png'</span><span class="p">);</span>

<span class="p">}</span>

<span class="kd">function</span> <span class="nx">create</span><span class="p">()</span> <span class="p">{</span>

	<span class="nx">game</span><span class="p">.</span><span class="nx">time</span><span class="p">.</span><span class="nx">advancedTiming</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nx">game</span><span class="p">.</span><span class="nx">time</span><span class="p">.</span><span class="nx">desiredFps</span> <span class="o">=</span> <span class="mi">60</span><span class="p">;</span>
    <span class="nx">game</span><span class="p">.</span><span class="nx">time</span><span class="p">.</span><span class="nx">slowMotion</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">;</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">ballMovement</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">'ball'</span><span class="p">);</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">ballMovement</span><span class="p">.</span><span class="nx">anchor</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="mf">0.5</span><span class="p">);</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">ballMovement</span><span class="p">.</span><span class="nx">vy</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">ballTween</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">'ball'</span><span class="p">);</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">ballTween</span><span class="p">.</span><span class="nx">anchor</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="mf">0.5</span><span class="p">);</span>
	<span class="nx">startFall</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">ballTween</span><span class="p">);</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">emitter</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">emitter</span><span class="p">(</span><span class="nx">game</span><span class="p">.</span><span class="nx">world</span><span class="p">.</span><span class="nx">centerX</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">emitter</span><span class="p">.</span><span class="nx">makeParticles</span><span class="p">(</span><span class="s1">'ball'</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">emitter</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="kc">false</span><span class="p">,</span> <span class="mi">5000</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">wasteTime</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="kd">var</span> <span class="nx">gui</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">dat</span><span class="p">.</span><span class="nx">GUI</span><span class="p">();</span>
	<span class="nx">gui</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">game</span><span class="p">.</span><span class="nx">time</span><span class="p">,</span> <span class="s2">"slowMotion"</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">16</span><span class="p">).</span><span class="nx">step</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="nx">gui</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s2">"wasteTime"</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">).</span><span class="nx">step</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="nx">gui</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">game</span><span class="p">.</span><span class="nx">time</span><span class="p">,</span> <span class="s2">"desiredFps"</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">60</span><span class="p">).</span><span class="nx">step</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">game</span><span class="p">.</span><span class="nx">fpsProblemNotifier</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">handleFpsProblem</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>

<span class="p">}</span>

<span class="kd">function</span> <span class="nx">update</span><span class="p">()</span> <span class="p">{</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">ballMovement</span><span class="p">.</span><span class="nx">y</span> <span class="o">+=</span> <span class="k">this</span><span class="p">.</span><span class="nx">ballMovement</span><span class="p">.</span><span class="nx">vy</span><span class="p">;</span>
	
	<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">ballMovement</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mi">400</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">ballMovement</span><span class="p">.</span><span class="nx">vy</span> <span class="o">=</span> <span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">ballMovement</span><span class="p">.</span><span class="nx">vy</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">ballMovement</span><span class="p">.</span><span class="nx">vy</span><span class="o">++</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="c1">// mess with the refresh rate by wasting a ton of cpu time</span>
	<span class="c1">// (emulates running on lower CPU-powered devices)</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">wasteTime</span> <span class="o">*</span> <span class="mi">500000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">r</span> <span class="o">+=</span> <span class="nx">a</span> <span class="o">*</span> <span class="nx">a</span><span class="p">;</span>
	<span class="p">}</span>

<span class="p">}</span>

<span class="kd">function</span> <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>

	<span class="nx">game</span><span class="p">.</span><span class="nx">debug</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s1">'render FPS: '</span> <span class="o">+</span> <span class="p">(</span><span class="nx">game</span><span class="p">.</span><span class="nx">time</span><span class="p">.</span><span class="nx">fps</span> <span class="o">||</span> <span class="s1">'--'</span><span class="p">)</span> <span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="s2">"#00ff00"</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">game</span><span class="p">.</span><span class="nx">time</span><span class="p">.</span><span class="nx">suggestedFps</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="nx">game</span><span class="p">.</span><span class="nx">debug</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s1">'suggested FPS: '</span> <span class="o">+</span> <span class="nx">game</span><span class="p">.</span><span class="nx">time</span><span class="p">.</span><span class="nx">suggestedFps</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="s2">"#00ff00"</span><span class="p">);</span>
		<span class="nx">game</span><span class="p">.</span><span class="nx">debug</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s1">'desired FPS: '</span> <span class="o">+</span> <span class="nx">game</span><span class="p">.</span><span class="nx">time</span><span class="p">.</span><span class="nx">desiredFps</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="s2">"#00ff00"</span><span class="p">);</span>
	<span class="p">}</span>

<span class="p">}</span>

<span class="kd">function</span> <span class="nx">startFall</span><span class="p">(</span><span class="nx">_sprite</span><span class="p">)</span> <span class="p">{</span>

	<span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">tween</span><span class="p">(</span><span class="nx">_sprite</span><span class="p">).</span><span class="nx">to</span><span class="p">({</span><span class="na">y</span><span class="p">:</span><span class="mi">400</span><span class="p">},</span> <span class="mi">500</span><span class="p">,</span> <span class="nx">Phaser</span><span class="p">.</span><span class="nx">Easing</span><span class="p">.</span><span class="nx">Quadratic</span><span class="p">.</span><span class="nx">InOut</span><span class="p">,</span> <span class="kc">true</span><span class="p">).</span><span class="nx">onComplete</span><span class="p">.</span><span class="nx">addOnce</span><span class="p">(</span><span class="nx">bounceTween</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>

<span class="p">}</span>


<span class="kd">function</span> <span class="nx">bounceTween</span><span class="p">(</span><span class="nx">_sprite</span><span class="p">)</span> <span class="p">{</span>

	<span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">tween</span><span class="p">(</span><span class="nx">_sprite</span><span class="p">).</span><span class="nx">to</span><span class="p">({</span><span class="na">y</span><span class="p">:</span><span class="mi">100</span><span class="p">},</span> <span class="mi">500</span><span class="p">,</span> <span class="nx">Phaser</span><span class="p">.</span><span class="nx">Easing</span><span class="p">.</span><span class="nx">Quadratic</span><span class="p">.</span><span class="nx">InOut</span><span class="p">,</span> <span class="kc">true</span><span class="p">).</span><span class="nx">onComplete</span><span class="p">.</span><span class="nx">addOnce</span><span class="p">(</span><span class="nx">startFall</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>

<span class="p">}</span>


<span class="kd">function</span> <span class="nx">handleFpsProblem</span><span class="p">()</span> <span class="p">{</span>

	<span class="c1">// modify the game desired fps to match the current suggested fps</span>
	<span class="nx">game</span><span class="p">.</span><span class="nx">time</span><span class="p">.</span><span class="nx">desiredFps</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">time</span><span class="p">.</span><span class="nx">suggestedFps</span><span class="p">;</span>

<span class="p">}</span>

<span class="c1">//</span>
<span class="c1">// dat.GUI minified</span>
<span class="c1">//</span>
<span class="kd">var</span> <span class="nx">dat</span><span class="o">=</span><span class="nx">dat</span><span class="o">||</span><span class="p">{};</span><span class="nx">dat</span><span class="p">.</span><span class="nx">gui</span><span class="o">=</span><span class="nx">dat</span><span class="p">.</span><span class="nx">gui</span><span class="o">||</span><span class="p">{};</span><span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="o">=</span><span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="o">||</span><span class="p">{};</span><span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="o">=</span><span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="o">||</span><span class="p">{};</span><span class="nx">dat</span><span class="p">.</span><span class="nx">dom</span><span class="o">=</span><span class="nx">dat</span><span class="p">.</span><span class="nx">dom</span><span class="o">||</span><span class="p">{};</span><span class="nx">dat</span><span class="p">.</span><span class="nx">color</span><span class="o">=</span><span class="nx">dat</span><span class="p">.</span><span class="nx">color</span><span class="o">||</span><span class="p">{};</span><span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">css</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="p">{</span><span class="na">load</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="o">||</span><span class="nb">document</span><span class="p">;</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"link"</span><span class="p">);</span><span class="nx">b</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">"text/css"</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">rel</span><span class="o">=</span><span class="s2">"stylesheet"</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">href</span><span class="o">=</span><span class="nx">e</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">"head"</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">b</span><span class="p">)},</span><span class="na">inject</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="o">||</span><span class="nb">document</span><span class="p">;</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"style"</span><span class="p">);</span><span class="nx">b</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">"text/css"</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="nx">e</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">"head"</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">b</span><span class="p">)}}}();</span>
<span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">common</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">forEach</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">;</span><span class="k">return</span><span class="p">{</span><span class="na">BREAK</span><span class="p">:{},</span><span class="na">extend</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">f</span> <span class="k">in</span> <span class="nx">a</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">f</span><span class="p">])</span><span class="o">||</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">f</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">f</span><span class="p">])},</span><span class="k">this</span><span class="p">);</span><span class="k">return</span> <span class="nx">b</span><span class="p">},</span><span class="na">defaults</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">f</span> <span class="k">in</span> <span class="nx">a</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">f</span><span class="p">])</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">f</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">f</span><span class="p">])},</span><span class="k">this</span><span class="p">);</span><span class="k">return</span> <span class="nx">b</span><span class="p">},</span><span class="na">compose</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span><span class="k">return</span> <span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">),</span><span class="nx">f</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="mi">0</span><span class="o">&lt;=</span><span class="nx">f</span><span class="p">;</span><span class="nx">f</span><span class="o">--</span><span class="p">)</span><span class="nx">d</span><span class="o">=</span><span class="p">[</span><span class="nx">b</span><span class="p">[</span><span class="nx">f</span><span class="p">].</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">d</span><span class="p">)];</span><span class="k">return</span> <span class="nx">d</span><span class="p">[</span><span class="mi">0</span><span class="p">]}},</span>
<span class="na">each</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">forEach</span><span class="o">===</span><span class="nx">e</span><span class="p">)</span><span class="nx">a</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">);</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">+</span><span class="mi">0</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">c</span><span class="o">&lt;</span><span class="nx">p</span><span class="o">&amp;&amp;!</span><span class="p">(</span><span class="nx">c</span> <span class="k">in</span> <span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">a</span><span class="p">[</span><span class="nx">c</span><span class="p">],</span><span class="nx">c</span><span class="p">)</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">BREAK</span><span class="p">);</span><span class="nx">c</span><span class="o">++</span><span class="p">);</span><span class="k">else</span> <span class="k">for</span><span class="p">(</span><span class="nx">c</span> <span class="k">in</span> <span class="nx">a</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">a</span><span class="p">[</span><span class="nx">c</span><span class="p">],</span><span class="nx">c</span><span class="p">)</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">BREAK</span><span class="p">)</span><span class="k">break</span><span class="p">},</span><span class="na">defer</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">setTimeout</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="mi">0</span><span class="p">)},</span><span class="na">toArray</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">b</span><span class="p">.</span><span class="nx">toArray</span><span class="p">?</span><span class="nx">b</span><span class="p">.</span><span class="nx">toArray</span><span class="p">():</span><span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">b</span><span class="p">)},</span><span class="na">isUndefined</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">a</span><span class="p">},</span><span class="na">isNull</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="kc">null</span><span class="o">===</span><span class="nx">a</span><span class="p">},</span><span class="na">isNaN</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">!==</span><span class="nx">a</span><span class="p">},</span><span class="na">isArray</span><span class="p">:</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="o">||</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">constructor</span><span class="o">===</span><span class="nb">Array</span><span class="p">},</span><span class="na">isObject</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">===</span>
<span class="nb">Object</span><span class="p">(</span><span class="nx">a</span><span class="p">)},</span><span class="na">isNumber</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">===</span><span class="nx">a</span><span class="o">+</span><span class="mi">0</span><span class="p">},</span><span class="na">isString</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">===</span><span class="nx">a</span><span class="o">+</span><span class="s2">""</span><span class="p">},</span><span class="na">isBoolean</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="nx">a</span><span class="o">||!</span><span class="mi">0</span><span class="o">===</span><span class="nx">a</span><span class="p">},</span><span class="na">isFunction</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span><span class="s2">"[object Function]"</span><span class="o">===</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">)}}}();</span>
<span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">Controller</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">initialValue</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">d</span><span class="p">];</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">object</span><span class="o">=</span><span class="nx">a</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">property</span><span class="o">=</span><span class="nx">d</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__onFinishChange</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">__onChange</span><span class="o">=</span><span class="k">void</span> <span class="mi">0</span><span class="p">};</span><span class="nx">e</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="na">onChange</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">__onChange</span><span class="o">=</span><span class="nx">a</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="na">onFinishChange</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">__onFinishChange</span><span class="o">=</span><span class="nx">a</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="na">setValue</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">object</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">property</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__onChange</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">__onChange</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">updateDisplay</span><span class="p">();</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="na">getValue</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">object</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">property</span><span class="p">]},</span>
<span class="na">updateDisplay</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="na">isModified</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">initialValue</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">getValue</span><span class="p">()}});</span><span class="k">return</span> <span class="nx">a</span><span class="p">}(</span><span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">common</span><span class="p">);</span>
<span class="nx">dat</span><span class="p">.</span><span class="nx">dom</span><span class="p">.</span><span class="nx">dom</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">function</span> <span class="nx">a</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="s2">"0"</span><span class="o">===</span><span class="nx">c</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="nx">c</span><span class="p">))</span><span class="k">return</span> <span class="mi">0</span><span class="p">;</span><span class="nx">c</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">d</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">isNull</span><span class="p">(</span><span class="nx">c</span><span class="p">)?</span><span class="mi">0</span><span class="p">:</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="mi">1</span><span class="p">])}</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="p">{};</span><span class="nx">e</span><span class="p">.</span><span class="nx">each</span><span class="p">({</span><span class="na">HTMLEvents</span><span class="p">:[</span><span class="s2">"change"</span><span class="p">],</span><span class="na">MouseEvents</span><span class="p">:[</span><span class="s2">"click"</span><span class="p">,</span><span class="s2">"mousemove"</span><span class="p">,</span><span class="s2">"mousedown"</span><span class="p">,</span><span class="s2">"mouseup"</span><span class="p">,</span><span class="s2">"mouseover"</span><span class="p">],</span><span class="na">KeyboardEvents</span><span class="p">:[</span><span class="s2">"keydown"</span><span class="p">]},</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">a</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="nx">b</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">})});</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="sr">/</span><span class="se">(\d</span><span class="sr">+</span><span class="se">(\.\d</span><span class="sr">+</span><span class="se">)?)</span><span class="sr">px/</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="p">{</span><span class="na">makeSelectable</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">a</span><span class="p">){</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">c</span><span class="p">.</span><span class="nx">style</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">onselectstart</span><span class="o">=</span><span class="nx">a</span><span class="p">?</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">}:</span><span class="kd">function</span><span class="p">(){},</span><span class="nx">c</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">MozUserSelect</span><span class="o">=</span><span class="nx">a</span><span class="p">?</span><span class="s2">"auto"</span><span class="p">:</span><span class="s2">"none"</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">KhtmlUserSelect</span><span class="o">=</span>
<span class="nx">a</span><span class="p">?</span><span class="s2">"auto"</span><span class="p">:</span><span class="s2">"none"</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">unselectable</span><span class="o">=</span><span class="nx">a</span><span class="p">?</span><span class="s2">"on"</span><span class="p">:</span><span class="s2">"off"</span><span class="p">)},</span><span class="na">makeFullscreen</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="o">=!</span><span class="mi">0</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">=!</span><span class="mi">0</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">position</span><span class="o">=</span><span class="s2">"absolute"</span><span class="p">;</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">right</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">bottom</span><span class="o">=</span><span class="mi">0</span><span class="p">)},</span><span class="na">fakeEvent</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="nx">d</span><span class="o">=</span><span class="nx">d</span><span class="o">||</span><span class="p">{};</span><span class="kd">var</span> <span class="nx">q</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="nx">a</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">q</span><span class="p">)</span><span class="k">throw</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"Event type "</span><span class="o">+</span><span class="nx">a</span><span class="o">+</span><span class="s2">" not supported."</span><span class="p">);</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createEvent</span><span class="p">(</span><span class="nx">q</span><span class="p">);</span><span class="k">switch</span><span class="p">(</span><span class="nx">q</span><span class="p">){</span><span class="k">case</span> <span class="s2">"MouseEvents"</span><span class="p">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">initMouseEvent</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">bubbles</span><span class="o">||!</span><span class="mi">1</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">cancelable</span><span class="o">||!</span><span class="mi">0</span><span class="p">,</span><span class="nb">window</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">clickCount</span><span class="o">||</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">x</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">clientX</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">y</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">clientY</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">,</span>
<span class="o">!</span><span class="mi">1</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="kc">null</span><span class="p">);</span><span class="k">break</span><span class="p">;</span><span class="k">case</span> <span class="s2">"KeyboardEvents"</span><span class="p">:</span><span class="nx">q</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">initKeyboardEvent</span><span class="o">||</span><span class="nx">n</span><span class="p">.</span><span class="nx">initKeyEvent</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">defaults</span><span class="p">(</span><span class="nx">d</span><span class="p">,{</span><span class="na">cancelable</span><span class="p">:</span><span class="o">!</span><span class="mi">0</span><span class="p">,</span><span class="na">ctrlKey</span><span class="p">:</span><span class="o">!</span><span class="mi">1</span><span class="p">,</span><span class="na">altKey</span><span class="p">:</span><span class="o">!</span><span class="mi">1</span><span class="p">,</span><span class="na">shiftKey</span><span class="p">:</span><span class="o">!</span><span class="mi">1</span><span class="p">,</span><span class="na">metaKey</span><span class="p">:</span><span class="o">!</span><span class="mi">1</span><span class="p">,</span><span class="na">keyCode</span><span class="p">:</span><span class="k">void</span> <span class="mi">0</span><span class="p">,</span><span class="na">charCode</span><span class="p">:</span><span class="k">void</span> <span class="mi">0</span><span class="p">});</span><span class="nx">q</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">bubbles</span><span class="o">||!</span><span class="mi">1</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">cancelable</span><span class="p">,</span><span class="nb">window</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">ctrlKey</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">altKey</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">shiftKey</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">metaKey</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">keyCode</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">charCode</span><span class="p">);</span><span class="k">break</span><span class="p">;</span><span class="nl">default</span><span class="p">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">initEvent</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">bubbles</span><span class="o">||!</span><span class="mi">1</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">cancelable</span><span class="o">||!</span><span class="mi">0</span><span class="p">)}</span><span class="nx">e</span><span class="p">.</span><span class="nx">defaults</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">f</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">dispatchEvent</span><span class="p">(</span><span class="nx">n</span><span class="p">)},</span><span class="na">bind</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">c</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">?</span><span class="nx">c</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">b</span><span class="o">||!</span><span class="mi">1</span><span class="p">):</span><span class="nx">c</span><span class="p">.</span><span class="nx">attachEvent</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">(</span><span class="s2">"on"</span><span class="o">+</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">);</span><span class="k">return</span> <span class="nx">f</span><span class="p">},</span>
<span class="na">unbind</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">c</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">?</span><span class="nx">c</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">b</span><span class="o">||!</span><span class="mi">1</span><span class="p">):</span><span class="nx">c</span><span class="p">.</span><span class="nx">detachEvent</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">detachEvent</span><span class="p">(</span><span class="s2">"on"</span><span class="o">+</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">);</span><span class="k">return</span> <span class="nx">f</span><span class="p">},</span><span class="na">addClass</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">className</span><span class="p">)</span><span class="nx">a</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="nx">d</span><span class="p">;</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">className</span><span class="o">!==</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">className</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="sr">/ +/</span><span class="p">);</span><span class="o">-</span><span class="mi">1</span><span class="o">==</span><span class="nx">b</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">d</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">" "</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^</span><span class="se">\s</span><span class="sr">+/</span><span class="p">,</span><span class="s2">""</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">\s</span><span class="sr">+$/</span><span class="p">,</span><span class="s2">""</span><span class="p">))}</span><span class="k">return</span> <span class="nx">f</span><span class="p">},</span><span class="na">removeClass</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">a</span><span class="p">.</span><span class="nx">className</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">className</span><span class="o">===</span><span class="nx">d</span><span class="p">)</span><span class="nx">a</span><span class="p">.</span><span class="nx">removeAttribute</span><span class="p">(</span><span class="s2">"class"</span><span class="p">);</span><span class="k">else</span><span class="p">{</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">className</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="sr">/ +/</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">d</span><span class="p">);</span><span class="o">-</span><span class="mi">1</span><span class="o">!=</span>
<span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">" "</span><span class="p">))}}</span><span class="k">else</span> <span class="nx">a</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="k">void</span> <span class="mi">0</span><span class="p">;</span><span class="k">return</span> <span class="nx">f</span><span class="p">},</span><span class="na">hasClass</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">return</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s2">"(?:^|\\s+)"</span><span class="o">+</span><span class="nx">d</span><span class="o">+</span><span class="s2">"(?:\\s+|$)"</span><span class="p">).</span><span class="nx">test</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">className</span><span class="p">)</span><span class="o">||!</span><span class="mi">1</span><span class="p">},</span><span class="na">getWidth</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="nx">c</span><span class="o">=</span><span class="nx">getComputedStyle</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span><span class="k">return</span> <span class="nx">a</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="s2">"border-left-width"</span><span class="p">])</span><span class="o">+</span><span class="nx">a</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="s2">"border-right-width"</span><span class="p">])</span><span class="o">+</span><span class="nx">a</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="s2">"padding-left"</span><span class="p">])</span><span class="o">+</span><span class="nx">a</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="s2">"padding-right"</span><span class="p">])</span><span class="o">+</span><span class="nx">a</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">width</span><span class="p">)},</span><span class="na">getHeight</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="nx">c</span><span class="o">=</span><span class="nx">getComputedStyle</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span><span class="k">return</span> <span class="nx">a</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="s2">"border-top-width"</span><span class="p">])</span><span class="o">+</span><span class="nx">a</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="s2">"border-bottom-width"</span><span class="p">])</span><span class="o">+</span><span class="nx">a</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="s2">"padding-top"</span><span class="p">])</span><span class="o">+</span><span class="nx">a</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="s2">"padding-bottom"</span><span class="p">])</span><span class="o">+</span><span class="nx">a</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">height</span><span class="p">)},</span><span class="na">getOffset</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span>
<span class="p">{</span><span class="na">left</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="na">top</span><span class="p">:</span><span class="mi">0</span><span class="p">};</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">offsetParent</span><span class="p">){</span><span class="k">do</span> <span class="nx">d</span><span class="p">.</span><span class="nx">left</span><span class="o">+=</span><span class="nx">a</span><span class="p">.</span><span class="nx">offsetLeft</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">top</span><span class="o">+=</span><span class="nx">a</span><span class="p">.</span><span class="nx">offsetTop</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">offsetParent</span><span class="p">)}</span><span class="k">return</span> <span class="nx">d</span><span class="p">},</span><span class="na">isActive</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">===</span><span class="nb">document</span><span class="p">.</span><span class="nx">activeElement</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">href</span><span class="p">)}};</span><span class="k">return</span> <span class="nx">f</span><span class="p">}(</span><span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">common</span><span class="p">);</span>
<span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">OptionController</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="nx">d</span><span class="p">.</span><span class="nx">superclass</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__select</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"select"</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">e</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="p">{};</span><span class="nx">b</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">l</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">});</span><span class="nx">e</span><span class="o">=</span><span class="nx">l</span><span class="p">}</span><span class="nx">b</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"option"</span><span class="p">);</span><span class="nx">d</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="nx">c</span><span class="p">;</span><span class="nx">d</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">"value"</span><span class="p">,</span><span class="nx">a</span><span class="p">);</span><span class="nx">k</span><span class="p">.</span><span class="nx">__select</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span><span class="k">this</span><span class="p">.</span><span class="nx">updateDisplay</span><span class="p">();</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__select</span><span class="p">,</span><span class="s2">"change"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">k</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">selectedIndex</span><span class="p">].</span><span class="nx">value</span><span class="p">)});</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__select</span><span class="p">)};</span>
<span class="nx">d</span><span class="p">.</span><span class="nx">superclass</span><span class="o">=</span><span class="nx">e</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="na">setValue</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">superclass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setValue</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__onFinishChange</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">__onFinishChange</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">getValue</span><span class="p">());</span><span class="k">return</span> <span class="nx">a</span><span class="p">},</span><span class="na">updateDisplay</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">__select</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getValue</span><span class="p">();</span><span class="k">return</span> <span class="nx">d</span><span class="p">.</span><span class="nx">superclass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">updateDisplay</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)}});</span><span class="k">return</span> <span class="nx">d</span><span class="p">}(</span><span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">Controller</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">dom</span><span class="p">.</span><span class="nx">dom</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">common</span><span class="p">);</span>
<span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">NumberController</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">superclass</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">);</span><span class="nx">c</span><span class="o">=</span><span class="nx">c</span><span class="o">||</span><span class="p">{};</span><span class="k">this</span><span class="p">.</span><span class="nx">__min</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">min</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__max</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">max</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__step</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">step</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__step</span><span class="p">)?</span><span class="k">this</span><span class="p">.</span><span class="nx">__impliedStep</span><span class="o">=</span><span class="mi">0</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">initialValue</span><span class="p">?</span><span class="mi">1</span><span class="p">:</span><span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">initialValue</span><span class="p">)</span><span class="o">/</span><span class="nb">Math</span><span class="p">.</span><span class="nx">LN10</span><span class="p">))</span><span class="o">/</span><span class="mi">10</span><span class="p">:</span><span class="k">this</span><span class="p">.</span><span class="nx">__impliedStep</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">__step</span><span class="p">;</span><span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">__impliedStep</span><span class="p">;</span><span class="nx">d</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span><span class="nx">d</span><span class="o">=-</span><span class="mi">1</span><span class="o">&lt;</span><span class="nx">d</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"."</span><span class="p">)?</span><span class="nx">d</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="nx">d</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"."</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="mi">0</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__precision</span><span class="o">=</span><span class="nx">d</span><span class="p">};</span><span class="nx">b</span><span class="p">.</span><span class="nx">superclass</span><span class="o">=</span><span class="nx">e</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="na">setValue</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span>
<span class="k">this</span><span class="p">.</span><span class="nx">__min</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">__min</span><span class="p">?</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">__min</span><span class="p">:</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">__max</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="o">&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">__max</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">__max</span><span class="p">);</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">__step</span><span class="o">&amp;&amp;</span><span class="mi">0</span><span class="o">!=</span><span class="nx">a</span><span class="o">%</span><span class="k">this</span><span class="p">.</span><span class="nx">__step</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">a</span><span class="o">/</span><span class="k">this</span><span class="p">.</span><span class="nx">__step</span><span class="p">)</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">__step</span><span class="p">);</span><span class="k">return</span> <span class="nx">b</span><span class="p">.</span><span class="nx">superclass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setValue</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">)},</span><span class="na">min</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">__min</span><span class="o">=</span><span class="nx">a</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="na">max</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">__max</span><span class="o">=</span><span class="nx">a</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="na">step</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">__step</span><span class="o">=</span><span class="nx">a</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">}});</span><span class="k">return</span> <span class="nx">b</span><span class="p">}(</span><span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">Controller</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">common</span><span class="p">);</span>
<span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">NumberControllerBox</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="kd">function</span> <span class="nx">k</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">__input</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span><span class="nx">b</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">||</span><span class="nx">n</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="nx">a</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">l</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">r</span><span class="o">-</span><span class="nx">a</span><span class="p">.</span><span class="nx">clientY</span><span class="p">;</span><span class="nx">n</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">getValue</span><span class="p">()</span><span class="o">+</span><span class="nx">c</span><span class="o">*</span><span class="nx">n</span><span class="p">.</span><span class="nx">__impliedStep</span><span class="p">);</span><span class="nx">r</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">clientY</span><span class="p">}</span><span class="kd">function</span> <span class="nx">q</span><span class="p">(){</span><span class="nx">a</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span><span class="s2">"mousemove"</span><span class="p">,</span><span class="nx">l</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span><span class="s2">"mouseup"</span><span class="p">,</span><span class="nx">q</span><span class="p">)}</span><span class="k">this</span><span class="p">.</span><span class="nx">__truncationSuspended</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="nx">d</span><span class="p">.</span><span class="nx">superclass</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">r</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"input"</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">"type"</span><span class="p">,</span><span class="s2">"text"</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="p">,</span><span class="s2">"change"</span><span class="p">,</span><span class="nx">k</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="p">,</span>
<span class="s2">"blur"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">k</span><span class="p">();</span><span class="nx">n</span><span class="p">.</span><span class="nx">__onFinishChange</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">.</span><span class="nx">__onFinishChange</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">getValue</span><span class="p">())});</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="p">,</span><span class="s2">"mousedown"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span><span class="s2">"mousemove"</span><span class="p">,</span><span class="nx">l</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span><span class="s2">"mouseup"</span><span class="p">,</span><span class="nx">q</span><span class="p">);</span><span class="nx">r</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">clientY</span><span class="p">});</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="p">,</span><span class="s2">"keydown"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="mi">13</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">keyCode</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">__truncationSuspended</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">blur</span><span class="p">(),</span><span class="nx">n</span><span class="p">.</span><span class="nx">__truncationSuspended</span><span class="o">=!</span><span class="mi">1</span><span class="p">)});</span><span class="k">this</span><span class="p">.</span><span class="nx">updateDisplay</span><span class="p">();</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="p">)};</span><span class="nx">d</span><span class="p">.</span><span class="nx">superclass</span><span class="o">=</span><span class="nx">e</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="na">updateDisplay</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="p">,</span><span class="nx">c</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__truncationSuspended</span><span class="p">)</span><span class="nx">c</span><span class="o">=</span>
<span class="k">this</span><span class="p">.</span><span class="nx">getValue</span><span class="p">();</span><span class="k">else</span><span class="p">{</span><span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getValue</span><span class="p">();</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">__precision</span><span class="p">);</span><span class="nx">c</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">c</span><span class="o">*</span><span class="nx">b</span><span class="p">)</span><span class="o">/</span><span class="nx">b</span><span class="p">}</span><span class="nx">a</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">c</span><span class="p">;</span><span class="k">return</span> <span class="nx">d</span><span class="p">.</span><span class="nx">superclass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">updateDisplay</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)}});</span><span class="k">return</span> <span class="nx">d</span><span class="p">}(</span><span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">NumberController</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">dom</span><span class="p">.</span><span class="nx">dom</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">common</span><span class="p">);</span>
<span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">NumberControllerSlider</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="kd">function</span> <span class="nx">c</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="k">return</span> <span class="nx">b</span><span class="o">+</span><span class="p">(</span><span class="nx">a</span><span class="o">-</span><span class="nx">c</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="nx">d</span><span class="o">-</span><span class="nx">c</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="nx">f</span><span class="o">-</span><span class="nx">b</span><span class="p">)}</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">r</span><span class="p">){</span><span class="kd">function</span> <span class="nx">y</span><span class="p">(</span><span class="nx">d</span><span class="p">){</span><span class="nx">d</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getOffset</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">__background</span><span class="p">),</span><span class="nx">f</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getWidth</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">__background</span><span class="p">);</span><span class="nx">h</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="nx">c</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">clientX</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">left</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">left</span><span class="o">+</span><span class="nx">f</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">__min</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">__max</span><span class="p">));</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">}</span><span class="kd">function</span> <span class="nx">g</span><span class="p">(){</span><span class="nx">a</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span><span class="s2">"mousemove"</span><span class="p">,</span><span class="nx">y</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span><span class="s2">"mouseup"</span><span class="p">,</span><span class="nx">g</span><span class="p">);</span><span class="nx">h</span><span class="p">.</span><span class="nx">__onFinishChange</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="p">.</span><span class="nx">__onFinishChange</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">getValue</span><span class="p">())}</span><span class="nx">p</span><span class="p">.</span><span class="nx">superclass</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">b</span><span class="p">,{</span><span class="na">min</span><span class="p">:</span><span class="nx">f</span><span class="p">,</span><span class="na">max</span><span class="p">:</span><span class="nx">e</span><span class="p">,</span><span class="na">step</span><span class="p">:</span><span class="nx">r</span><span class="p">});</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__background</span><span class="o">=</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__foreground</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__background</span><span class="p">,</span><span class="s2">"mousedown"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span><span class="s2">"mousemove"</span><span class="p">,</span><span class="nx">y</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span><span class="s2">"mouseup"</span><span class="p">,</span><span class="nx">g</span><span class="p">);</span><span class="nx">y</span><span class="p">(</span><span class="nx">c</span><span class="p">)});</span><span class="nx">a</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__background</span><span class="p">,</span><span class="s2">"slider"</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__foreground</span><span class="p">,</span><span class="s2">"slider-fg"</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">updateDisplay</span><span class="p">();</span><span class="k">this</span><span class="p">.</span><span class="nx">__background</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__foreground</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__background</span><span class="p">)};</span><span class="nx">p</span><span class="p">.</span><span class="nx">superclass</span><span class="o">=</span><span class="nx">e</span><span class="p">;</span><span class="nx">p</span><span class="p">.</span><span class="nx">useDefaultStyles</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">b</span><span class="p">.</span><span class="nx">inject</span><span class="p">(</span><span class="nx">f</span><span class="p">)};</span><span class="nx">d</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="na">updateDisplay</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span>
<span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getValue</span><span class="p">()</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">__min</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__max</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">__min</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__foreground</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="mi">100</span><span class="o">*</span><span class="nx">a</span><span class="o">+</span><span class="s2">"%"</span><span class="p">;</span><span class="k">return</span> <span class="nx">p</span><span class="p">.</span><span class="nx">superclass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">updateDisplay</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)}});</span><span class="k">return</span> <span class="nx">p</span><span class="p">}(</span><span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">NumberController</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">dom</span><span class="p">.</span><span class="nx">dom</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">css</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">common</span><span class="p">,</span><span class="s2">"/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n.slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}"</span><span class="p">);</span>
<span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">FunctionController</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="nx">d</span><span class="p">.</span><span class="nx">superclass</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__button</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__button</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">?</span><span class="s2">"Fire"</span><span class="p">:</span><span class="nx">e</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__button</span><span class="p">,</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span><span class="nx">k</span><span class="p">.</span><span class="nx">fire</span><span class="p">();</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">});</span><span class="nx">a</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__button</span><span class="p">,</span><span class="s2">"button"</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__button</span><span class="p">)};</span><span class="nx">d</span><span class="p">.</span><span class="nx">superclass</span><span class="o">=</span><span class="nx">e</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="na">fire</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">__onChange</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">__onChange</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__onFinishChange</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">__onFinishChange</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span>
<span class="k">this</span><span class="p">.</span><span class="nx">getValue</span><span class="p">());</span><span class="k">this</span><span class="p">.</span><span class="nx">getValue</span><span class="p">().</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">object</span><span class="p">)}});</span><span class="k">return</span> <span class="nx">d</span><span class="p">}(</span><span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">Controller</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">dom</span><span class="p">.</span><span class="nx">dom</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">common</span><span class="p">);</span>
<span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">BooleanController</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">d</span><span class="p">.</span><span class="nx">superclass</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__prev</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getValue</span><span class="p">();</span><span class="k">this</span><span class="p">.</span><span class="nx">__checkbox</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"input"</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__checkbox</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">"type"</span><span class="p">,</span><span class="s2">"checkbox"</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__checkbox</span><span class="p">,</span><span class="s2">"change"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">e</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">.</span><span class="nx">__prev</span><span class="p">)},</span><span class="o">!</span><span class="mi">1</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__checkbox</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">updateDisplay</span><span class="p">()};</span><span class="nx">d</span><span class="p">.</span><span class="nx">superclass</span><span class="o">=</span><span class="nx">e</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="na">setValue</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">superclass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setValue</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__onFinishChange</span><span class="o">&amp;&amp;</span>
<span class="k">this</span><span class="p">.</span><span class="nx">__onFinishChange</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">getValue</span><span class="p">());</span><span class="k">this</span><span class="p">.</span><span class="nx">__prev</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getValue</span><span class="p">();</span><span class="k">return</span> <span class="nx">a</span><span class="p">},</span><span class="na">updateDisplay</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">getValue</span><span class="p">()?(</span><span class="k">this</span><span class="p">.</span><span class="nx">__checkbox</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">"checked"</span><span class="p">,</span><span class="s2">"checked"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">__checkbox</span><span class="p">.</span><span class="nx">checked</span><span class="o">=!</span><span class="mi">0</span><span class="p">):</span><span class="k">this</span><span class="p">.</span><span class="nx">__checkbox</span><span class="p">.</span><span class="nx">checked</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="k">return</span> <span class="nx">d</span><span class="p">.</span><span class="nx">superclass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">updateDisplay</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)}});</span><span class="k">return</span> <span class="nx">d</span><span class="p">}(</span><span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">Controller</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">dom</span><span class="p">.</span><span class="nx">dom</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">common</span><span class="p">);</span>
<span class="nx">dat</span><span class="p">.</span><span class="nx">color</span><span class="p">.</span><span class="nx">toString</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="mi">1</span><span class="o">==</span><span class="nx">a</span><span class="p">.</span><span class="nx">a</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">a</span><span class="p">)){</span><span class="k">for</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">hex</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span><span class="mi">6</span><span class="o">&gt;</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">;)</span><span class="nx">a</span><span class="o">=</span><span class="s2">"0"</span><span class="o">+</span><span class="nx">a</span><span class="p">;</span><span class="k">return</span><span class="s2">"#"</span><span class="o">+</span><span class="nx">a</span><span class="p">}</span><span class="k">return</span><span class="s2">"rgba("</span><span class="o">+</span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">r</span><span class="p">)</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">g</span><span class="p">)</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">b</span><span class="p">)</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">a</span><span class="p">.</span><span class="nx">a</span><span class="o">+</span><span class="s2">")"</span><span class="p">}}(</span><span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">common</span><span class="p">);</span>
<span class="nx">dat</span><span class="p">.</span><span class="nx">color</span><span class="p">.</span><span class="nx">interpret</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="p">[{</span><span class="na">litmus</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">isString</span><span class="p">,</span><span class="na">conversions</span><span class="p">:{</span><span class="na">THREE_CHAR_HEX</span><span class="p">:{</span><span class="na">read</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^#</span><span class="se">([</span><span class="sr">A-F0-9</span><span class="se">])([</span><span class="sr">A-F0-9</span><span class="se">])([</span><span class="sr">A-F0-9</span><span class="se">])</span><span class="sr">$/i</span><span class="p">);</span><span class="k">return</span> <span class="kc">null</span><span class="o">===</span><span class="nx">a</span><span class="p">?</span><span class="o">!</span><span class="mi">1</span><span class="p">:{</span><span class="na">space</span><span class="p">:</span><span class="s2">"HEX"</span><span class="p">,</span><span class="na">hex</span><span class="p">:</span><span class="nb">parseInt</span><span class="p">(</span><span class="s2">"0x"</span><span class="o">+</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">toString</span><span class="p">()</span><span class="o">+</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">toString</span><span class="p">()</span><span class="o">+</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">toString</span><span class="p">()</span><span class="o">+</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">toString</span><span class="p">()</span><span class="o">+</span><span class="nx">a</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="nx">toString</span><span class="p">()</span><span class="o">+</span><span class="nx">a</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="nx">toString</span><span class="p">())}},</span><span class="na">write</span><span class="p">:</span><span class="nx">e</span><span class="p">},</span><span class="na">SIX_CHAR_HEX</span><span class="p">:{</span><span class="na">read</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^#</span><span class="se">([</span><span class="sr">A-F0-9</span><span class="se">]{6})</span><span class="sr">$/i</span><span class="p">);</span><span class="k">return</span> <span class="kc">null</span><span class="o">===</span><span class="nx">a</span><span class="p">?</span><span class="o">!</span><span class="mi">1</span><span class="p">:{</span><span class="na">space</span><span class="p">:</span><span class="s2">"HEX"</span><span class="p">,</span><span class="na">hex</span><span class="p">:</span><span class="nb">parseInt</span><span class="p">(</span><span class="s2">"0x"</span><span class="o">+</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">toString</span><span class="p">())}},</span><span class="na">write</span><span class="p">:</span><span class="nx">e</span><span class="p">},</span><span class="na">CSS_RGB</span><span class="p">:{</span><span class="na">read</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^rgb</span><span class="se">\(\s</span><span class="sr">*</span><span class="se">(</span><span class="sr">.+</span><span class="se">)\s</span><span class="sr">*,</span><span class="se">\s</span><span class="sr">*</span><span class="se">(</span><span class="sr">.+</span><span class="se">)\s</span><span class="sr">*,</span><span class="se">\s</span><span class="sr">*</span><span class="se">(</span><span class="sr">.+</span><span class="se">)\s</span><span class="sr">*</span><span class="se">\)</span><span class="sr">/</span><span class="p">);</span>
<span class="k">return</span> <span class="kc">null</span><span class="o">===</span><span class="nx">a</span><span class="p">?</span><span class="o">!</span><span class="mi">1</span><span class="p">:{</span><span class="na">space</span><span class="p">:</span><span class="s2">"RGB"</span><span class="p">,</span><span class="na">r</span><span class="p">:</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="na">g</span><span class="p">:</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span><span class="na">b</span><span class="p">:</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">3</span><span class="p">])}},</span><span class="na">write</span><span class="p">:</span><span class="nx">e</span><span class="p">},</span><span class="na">CSS_RGBA</span><span class="p">:{</span><span class="na">read</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^rgba</span><span class="se">\(\s</span><span class="sr">*</span><span class="se">(</span><span class="sr">.+</span><span class="se">)\s</span><span class="sr">*,</span><span class="se">\s</span><span class="sr">*</span><span class="se">(</span><span class="sr">.+</span><span class="se">)\s</span><span class="sr">*,</span><span class="se">\s</span><span class="sr">*</span><span class="se">(</span><span class="sr">.+</span><span class="se">)\s</span><span class="sr">*</span><span class="se">\,\s</span><span class="sr">*</span><span class="se">(</span><span class="sr">.+</span><span class="se">)\s</span><span class="sr">*</span><span class="se">\)</span><span class="sr">/</span><span class="p">);</span><span class="k">return</span> <span class="kc">null</span><span class="o">===</span><span class="nx">a</span><span class="p">?</span><span class="o">!</span><span class="mi">1</span><span class="p">:{</span><span class="na">space</span><span class="p">:</span><span class="s2">"RGB"</span><span class="p">,</span><span class="na">r</span><span class="p">:</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="na">g</span><span class="p">:</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span><span class="na">b</span><span class="p">:</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span><span class="na">a</span><span class="p">:</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">4</span><span class="p">])}},</span><span class="na">write</span><span class="p">:</span><span class="nx">e</span><span class="p">}}},{</span><span class="na">litmus</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">,</span><span class="na">conversions</span><span class="p">:{</span><span class="na">HEX</span><span class="p">:{</span><span class="na">read</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span><span class="p">{</span><span class="na">space</span><span class="p">:</span><span class="s2">"HEX"</span><span class="p">,</span><span class="na">hex</span><span class="p">:</span><span class="nx">a</span><span class="p">,</span><span class="na">conversionName</span><span class="p">:</span><span class="s2">"HEX"</span><span class="p">}},</span><span class="na">write</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">hex</span><span class="p">}}}},{</span><span class="na">litmus</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">isArray</span><span class="p">,</span><span class="na">conversions</span><span class="p">:{</span><span class="na">RGB_ARRAY</span><span class="p">:{</span><span class="na">read</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="mi">3</span><span class="o">!=</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">?</span><span class="o">!</span><span class="mi">1</span><span class="p">:{</span><span class="na">space</span><span class="p">:</span><span class="s2">"RGB"</span><span class="p">,</span><span class="na">r</span><span class="p">:</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="na">g</span><span class="p">:</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="na">b</span><span class="p">:</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]}},</span><span class="na">write</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span><span class="p">[</span><span class="nx">a</span><span class="p">.</span><span class="nx">r</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">g</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">b</span><span class="p">]}},</span><span class="na">RGBA_ARRAY</span><span class="p">:{</span><span class="na">read</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="mi">4</span><span class="o">!=</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">?</span><span class="o">!</span><span class="mi">1</span><span class="p">:{</span><span class="na">space</span><span class="p">:</span><span class="s2">"RGB"</span><span class="p">,</span><span class="na">r</span><span class="p">:</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="na">g</span><span class="p">:</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="na">b</span><span class="p">:</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="na">a</span><span class="p">:</span><span class="nx">a</span><span class="p">[</span><span class="mi">3</span><span class="p">]}},</span><span class="na">write</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span><span class="p">[</span><span class="nx">a</span><span class="p">.</span><span class="nx">r</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">g</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">b</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">a</span><span class="p">]}}}},{</span><span class="na">litmus</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">isObject</span><span class="p">,</span><span class="na">conversions</span><span class="p">:{</span><span class="na">RGBA_OBJ</span><span class="p">:{</span><span class="na">read</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">r</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">g</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">b</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">a</span><span class="p">)?{</span><span class="na">space</span><span class="p">:</span><span class="s2">"RGB"</span><span class="p">,</span><span class="na">r</span><span class="p">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">r</span><span class="p">,</span><span class="na">g</span><span class="p">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">g</span><span class="p">,</span><span class="na">b</span><span class="p">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">b</span><span class="p">,</span><span class="na">a</span><span class="p">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">a</span><span class="p">}:</span><span class="o">!</span><span class="mi">1</span><span class="p">},</span><span class="na">write</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span><span class="p">{</span><span class="na">r</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">r</span><span class="p">,</span><span class="na">g</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">g</span><span class="p">,</span><span class="na">b</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">b</span><span class="p">,</span><span class="na">a</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">a</span><span class="p">}}},</span><span class="na">RGB_OBJ</span><span class="p">:{</span><span class="na">read</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">r</span><span class="p">)</span><span class="o">&amp;&amp;</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">g</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">b</span><span class="p">)?{</span><span class="na">space</span><span class="p">:</span><span class="s2">"RGB"</span><span class="p">,</span><span class="na">r</span><span class="p">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">r</span><span class="p">,</span><span class="na">g</span><span class="p">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">g</span><span class="p">,</span><span class="na">b</span><span class="p">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">b</span><span class="p">}:</span><span class="o">!</span><span class="mi">1</span><span class="p">},</span><span class="na">write</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span><span class="p">{</span><span class="na">r</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">r</span><span class="p">,</span><span class="na">g</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">g</span><span class="p">,</span><span class="na">b</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">b</span><span class="p">}}},</span><span class="na">HSVA_OBJ</span><span class="p">:{</span><span class="na">read</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">h</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">s</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">v</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">a</span><span class="p">)?{</span><span class="na">space</span><span class="p">:</span><span class="s2">"HSV"</span><span class="p">,</span><span class="na">h</span><span class="p">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">h</span><span class="p">,</span><span class="na">s</span><span class="p">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">s</span><span class="p">,</span><span class="na">v</span><span class="p">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">v</span><span class="p">,</span><span class="na">a</span><span class="p">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">a</span><span class="p">}:</span><span class="o">!</span><span class="mi">1</span><span class="p">},</span><span class="na">write</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span><span class="p">{</span><span class="na">h</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">h</span><span class="p">,</span><span class="na">s</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">s</span><span class="p">,</span><span class="na">v</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">v</span><span class="p">,</span><span class="na">a</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">a</span><span class="p">}}},</span><span class="na">HSV_OBJ</span><span class="p">:{</span><span class="na">read</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">h</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">s</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">v</span><span class="p">)?{</span><span class="na">space</span><span class="p">:</span><span class="s2">"HSV"</span><span class="p">,</span><span class="na">h</span><span class="p">:</span><span class="nx">d</span><span class="p">.</span><span class="nx">h</span><span class="p">,</span><span class="na">s</span><span class="p">:</span><span class="nx">d</span><span class="p">.</span><span class="nx">s</span><span class="p">,</span><span class="na">v</span><span class="p">:</span><span class="nx">d</span><span class="p">.</span><span class="nx">v</span><span class="p">}:</span><span class="o">!</span><span class="mi">1</span><span class="p">},</span><span class="na">write</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span><span class="p">{</span><span class="na">h</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">h</span><span class="p">,</span><span class="na">s</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">s</span><span class="p">,</span><span class="na">v</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">v</span><span class="p">}}}}}];</span><span class="k">return</span> <span class="kd">function</span><span class="p">(){</span><span class="nx">d</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="mi">1</span><span class="o">&lt;</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">toArray</span><span class="p">(</span><span class="nx">arguments</span><span class="p">):</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="nx">a</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">litmus</span><span class="p">(</span><span class="nx">c</span><span class="p">))</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">conversions</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="nx">b</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="nx">d</span><span class="o">&amp;&amp;!</span><span class="mi">1</span><span class="o">!==</span><span class="nx">b</span><span class="p">)</span><span class="k">return</span> <span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">conversionName</span><span class="o">=</span><span class="nx">f</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">conversion</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">BREAK</span><span class="p">}),</span><span class="nx">a</span><span class="p">.</span><span class="nx">BREAK</span><span class="p">});</span><span class="k">return</span> <span class="nx">d</span><span class="p">}}(</span><span class="nx">dat</span><span class="p">.</span><span class="nx">color</span><span class="p">.</span><span class="nx">toString</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">common</span><span class="p">);</span>
<span class="nx">dat</span><span class="p">.</span><span class="nx">GUI</span><span class="o">=</span><span class="nx">dat</span><span class="p">.</span><span class="nx">gui</span><span class="p">.</span><span class="nx">GUI</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">p</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">q</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">){</span><span class="kd">function</span> <span class="nx">t</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">c</span><span class="p">[</span><span class="nx">b</span><span class="p">])</span><span class="k">throw</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"Object "</span><span class="o">+</span><span class="nx">c</span><span class="o">+</span><span class="s1">' has no property "'</span><span class="o">+</span><span class="nx">b</span><span class="o">+</span><span class="s1">'"'</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">color</span><span class="p">?</span><span class="nx">c</span><span class="o">=</span><span class="k">new</span> <span class="nx">n</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">b</span><span class="p">):(</span><span class="nx">c</span><span class="o">=</span><span class="p">[</span><span class="nx">c</span><span class="p">,</span><span class="nx">b</span><span class="p">].</span><span class="nx">concat</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">factoryArgs</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">));</span><span class="nx">e</span><span class="p">.</span><span class="nx">before</span> <span class="k">instanceof</span> <span class="nx">f</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">before</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">before</span><span class="p">.</span><span class="nx">__li</span><span class="p">);</span><span class="nx">v</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">domElement</span><span class="p">,</span><span class="s2">"c"</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"span"</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="s2">"property-name"</span><span class="p">);</span><span class="nx">b</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">property</span><span class="p">;</span><span class="kd">var</span> <span class="nx">q</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="nx">q</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="nx">q</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">domElement</span><span class="p">);</span><span class="nx">e</span><span class="o">=</span><span class="nx">u</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">q</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">before</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">CLASS_CONTROLLER_ROW</span><span class="p">);</span>
<span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="k">typeof</span> <span class="nx">c</span><span class="p">.</span><span class="nx">getValue</span><span class="p">());</span><span class="nx">s</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">__controllers</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span><span class="k">return</span> <span class="nx">c</span><span class="p">}</span><span class="kd">function</span> <span class="nx">u</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"li"</span><span class="p">);</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">d</span><span class="p">);</span><span class="nx">c</span><span class="p">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">__ul</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">params</span><span class="p">.</span><span class="nx">before</span><span class="p">):</span><span class="nx">a</span><span class="p">.</span><span class="nx">__ul</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">onResize</span><span class="p">();</span><span class="k">return</span> <span class="nx">b</span><span class="p">}</span><span class="kd">function</span> <span class="nx">s</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">__li</span><span class="o">=</span><span class="nx">d</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">__gui</span><span class="o">=</span><span class="nx">a</span><span class="p">;</span><span class="nx">h</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">b</span><span class="p">,{</span><span class="na">options</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="k">return</span> <span class="nx">b</span><span class="p">.</span><span class="nx">remove</span><span class="p">(),</span><span class="nx">t</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">object</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">property</span><span class="p">,{</span><span class="na">before</span><span class="p">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">__li</span><span class="p">.</span><span class="nx">nextElementSibling</span><span class="p">,</span><span class="na">factoryArgs</span><span class="p">:[</span><span class="nx">h</span><span class="p">.</span><span class="nx">toArray</span><span class="p">(</span><span class="nx">arguments</span><span class="p">)]});</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span><span class="o">||</span><span class="nx">h</span><span class="p">.</span><span class="nx">isObject</span><span class="p">(</span><span class="nx">d</span><span class="p">))</span><span class="k">return</span> <span class="nx">b</span><span class="p">.</span><span class="nx">remove</span><span class="p">(),</span><span class="nx">t</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">object</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">property</span><span class="p">,</span>
<span class="p">{</span><span class="na">before</span><span class="p">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">__li</span><span class="p">.</span><span class="nx">nextElementSibling</span><span class="p">,</span><span class="na">factoryArgs</span><span class="p">:[</span><span class="nx">d</span><span class="p">]})},</span><span class="na">name</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">__li</span><span class="p">.</span><span class="nx">firstElementChild</span><span class="p">.</span><span class="nx">firstElementChild</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="nx">a</span><span class="p">;</span><span class="k">return</span> <span class="nx">b</span><span class="p">},</span><span class="na">listen</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">b</span><span class="p">.</span><span class="nx">__gui</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="k">return</span> <span class="nx">b</span><span class="p">},</span><span class="na">remove</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">b</span><span class="p">.</span><span class="nx">__gui</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="k">return</span> <span class="nx">b</span><span class="p">}});</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span> <span class="k">instanceof</span> <span class="nx">l</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">new</span> <span class="nx">k</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">object</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">property</span><span class="p">,{</span><span class="na">min</span><span class="p">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">__min</span><span class="p">,</span><span class="na">max</span><span class="p">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">__max</span><span class="p">,</span><span class="na">step</span><span class="p">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">__step</span><span class="p">});</span><span class="nx">h</span><span class="p">.</span><span class="nx">each</span><span class="p">([</span><span class="s2">"updateDisplay"</span><span class="p">,</span><span class="s2">"onChange"</span><span class="p">,</span><span class="s2">"onFinishChange"</span><span class="p">],</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="nx">a</span><span class="p">],</span><span class="nx">J</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">a</span><span class="p">];</span><span class="nx">b</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span><span class="nx">d</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">a</span><span class="p">);</span><span class="k">return</span> <span class="nx">J</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">)}});</span>
<span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="s2">"has-slider"</span><span class="p">);</span><span class="nx">b</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">domElement</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">firstElementChild</span><span class="p">)}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">b</span> <span class="k">instanceof</span> <span class="nx">k</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">){</span><span class="k">return</span> <span class="nx">h</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">__min</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">__max</span><span class="p">)?(</span><span class="nx">b</span><span class="p">.</span><span class="nx">remove</span><span class="p">(),</span><span class="nx">t</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">object</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">property</span><span class="p">,{</span><span class="na">before</span><span class="p">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">__li</span><span class="p">.</span><span class="nx">nextElementSibling</span><span class="p">,</span><span class="na">factoryArgs</span><span class="p">:[</span><span class="nx">b</span><span class="p">.</span><span class="nx">__min</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">__max</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">__step</span><span class="p">]})):</span><span class="nx">d</span><span class="p">};</span><span class="nx">b</span><span class="p">.</span><span class="nx">min</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">compose</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">min</span><span class="p">);</span><span class="nx">b</span><span class="p">.</span><span class="nx">max</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">compose</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">max</span><span class="p">)}</span><span class="k">else</span> <span class="nx">b</span> <span class="k">instanceof</span> <span class="nx">c</span><span class="p">?(</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">g</span><span class="p">.</span><span class="nx">fakeEvent</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">__checkbox</span><span class="p">,</span><span class="s2">"click"</span><span class="p">)}),</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">__checkbox</span><span class="p">,</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">()})):</span>
<span class="nx">b</span> <span class="k">instanceof</span> <span class="nx">p</span><span class="p">?(</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">g</span><span class="p">.</span><span class="nx">fakeEvent</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">__button</span><span class="p">,</span><span class="s2">"click"</span><span class="p">)}),</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="s2">"mouseover"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">__button</span><span class="p">,</span><span class="s2">"hover"</span><span class="p">)}),</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="s2">"mouseout"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">g</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">__button</span><span class="p">,</span><span class="s2">"hover"</span><span class="p">)})):</span><span class="nx">b</span> <span class="k">instanceof</span> <span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="s2">"color"</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">updateDisplay</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">compose</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">d</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">borderLeftColor</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">__color</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span><span class="k">return</span> <span class="nx">a</span><span class="p">},</span><span class="nx">b</span><span class="p">.</span><span class="nx">updateDisplay</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">updateDisplay</span><span class="p">());</span><span class="nx">b</span><span class="p">.</span><span class="nx">setValue</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">compose</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">getRoot</span><span class="p">().</span><span class="nx">__preset_select</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">isModified</span><span class="p">()</span><span class="o">&amp;&amp;</span><span class="nx">D</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">getRoot</span><span class="p">(),</span><span class="o">!</span><span class="mi">0</span><span class="p">);</span><span class="k">return</span> <span class="nx">d</span><span class="p">},</span><span class="nx">b</span><span class="p">.</span><span class="nx">setValue</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">v</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span>
<span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getRoot</span><span class="p">(),</span><span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">__rememberedObjects</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">object</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">!=</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">__rememberedObjectIndecesToControllers</span><span class="p">[</span><span class="nx">c</span><span class="p">];</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="p">{},</span><span class="nx">b</span><span class="p">.</span><span class="nx">__rememberedObjectIndecesToControllers</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="nx">e</span><span class="p">);</span><span class="nx">e</span><span class="p">[</span><span class="nx">d</span><span class="p">.</span><span class="nx">property</span><span class="p">]</span><span class="o">=</span><span class="nx">d</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">load</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">remembered</span><span class="p">){</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">remembered</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">a</span><span class="p">.</span><span class="nx">preset</span><span class="p">])</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="nx">a</span><span class="p">.</span><span class="nx">preset</span><span class="p">];</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">z</span><span class="p">])</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="nx">z</span><span class="p">];</span><span class="k">else</span> <span class="k">return</span><span class="p">;</span><span class="nx">b</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">b</span><span class="p">[</span><span class="nx">c</span><span class="p">][</span><span class="nx">d</span><span class="p">.</span><span class="nx">property</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="nx">c</span><span class="p">][</span><span class="nx">d</span><span class="p">.</span><span class="nx">property</span><span class="p">],</span><span class="nx">d</span><span class="p">.</span><span class="nx">initialValue</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="nx">c</span><span class="p">))}}}</span><span class="kd">function</span> <span class="nx">K</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">__save_row</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"li"</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">domElement</span><span class="p">,</span><span class="s2">"has-save"</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">__ul</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">__ul</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="s2">"save-row"</span><span class="p">);</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"span"</span><span class="p">);</span><span class="nx">d</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="s2">"&amp;nbsp;"</span><span class="p">;</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="s2">"button gears"</span><span class="p">);</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"span"</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="s2">"Save"</span><span class="p">;</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="s2">"button"</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="s2">"save"</span><span class="p">);</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"span"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="s2">"New"</span><span class="p">;</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="s2">"button"</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="s2">"save-as"</span><span class="p">);</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"span"</span><span class="p">);</span><span class="nx">f</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="s2">"Revert"</span><span class="p">;</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="s2">"button"</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="s2">"revert"</span><span class="p">);</span><span class="kd">var</span> <span class="nx">q</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">__preset_select</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"select"</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">load</span><span class="o">&amp;&amp;</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">remembered</span><span class="p">?</span><span class="nx">h</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">remembered</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="nx">E</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">d</span><span class="o">==</span><span class="nx">a</span><span class="p">.</span><span class="nx">preset</span><span class="p">)}):</span><span class="nx">E</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">z</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">q</span><span class="p">,</span><span class="s2">"change"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">b</span><span class="o">&lt;</span><span class="nx">a</span><span class="p">.</span><span class="nx">__preset_select</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">b</span><span class="o">++</span><span class="p">)</span><span class="nx">a</span><span class="p">.</span><span class="nx">__preset_select</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">innerHTML</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">__preset_select</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">value</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">preset</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">});</span><span class="nx">b</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">q</span><span class="p">);</span><span class="nx">b</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">d</span><span class="p">);</span><span class="nx">b</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span><span class="nx">b</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="nx">b</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">f</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">w</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"dg-save-locally"</span><span class="p">),</span><span class="nx">n</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"dg-local-explain"</span><span class="p">);</span><span class="nx">b</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s2">"block"</span><span class="p">;</span><span class="nx">b</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"dg-local-storage"</span><span class="p">);</span><span class="s2">"true"</span><span class="o">===</span>
<span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="o">+</span><span class="s2">".isLocal"</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">"checked"</span><span class="p">,</span><span class="s2">"checked"</span><span class="p">);</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">n</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">useLocalStorage</span><span class="p">?</span><span class="s2">"block"</span><span class="p">:</span><span class="s2">"none"</span><span class="p">};</span><span class="nx">k</span><span class="p">();</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="s2">"change"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">a</span><span class="p">.</span><span class="nx">useLocalStorage</span><span class="o">=!</span><span class="nx">a</span><span class="p">.</span><span class="nx">useLocalStorage</span><span class="p">;</span><span class="nx">k</span><span class="p">()})}</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"dg-new-constructor"</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="s2">"keydown"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="o">!</span><span class="nx">a</span><span class="p">.</span><span class="nx">metaKey</span><span class="o">||</span><span class="mi">67</span><span class="o">!==</span><span class="nx">a</span><span class="p">.</span><span class="nx">which</span><span class="o">&amp;&amp;</span><span class="mi">67</span><span class="o">!=</span><span class="nx">a</span><span class="p">.</span><span class="nx">keyCode</span><span class="o">||</span><span class="nx">A</span><span class="p">.</span><span class="nx">hide</span><span class="p">()});</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">r</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">getSaveObject</span><span class="p">(),</span><span class="k">void</span> <span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span><span class="nx">A</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span><span class="nx">r</span><span class="p">.</span><span class="nx">focus</span><span class="p">();</span><span class="nx">r</span><span class="p">.</span><span class="nx">select</span><span class="p">()});</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="s2">"click"</span><span class="p">,</span>
<span class="kd">function</span><span class="p">(){</span><span class="nx">a</span><span class="p">.</span><span class="nx">save</span><span class="p">()});</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">prompt</span><span class="p">(</span><span class="s2">"Enter a new preset name."</span><span class="p">);</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">saveAs</span><span class="p">(</span><span class="nx">b</span><span class="p">)});</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">a</span><span class="p">.</span><span class="nx">revert</span><span class="p">()})}</span><span class="kd">function</span> <span class="nx">L</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">function</span> <span class="nx">b</span><span class="p">(</span><span class="nx">f</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span><span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">clientX</span><span class="p">;</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">__closeButton</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">CLASS_DRAG</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span><span class="s2">"mousemove"</span><span class="p">,</span><span class="nx">d</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span><span class="s2">"mouseup"</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">}</span><span class="kd">function</span> <span class="nx">d</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span><span class="nx">a</span><span class="p">.</span><span class="nx">width</span><span class="o">+=</span><span class="nx">e</span><span class="o">-</span><span class="nx">b</span><span class="p">.</span><span class="nx">clientX</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">onResize</span><span class="p">();</span><span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">clientX</span><span class="p">;</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">}</span><span class="kd">function</span> <span class="nx">c</span><span class="p">(){</span><span class="nx">g</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">__closeButton</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">CLASS_DRAG</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span><span class="s2">"mousemove"</span><span class="p">,</span><span class="nx">d</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span>
<span class="s2">"mouseup"</span><span class="p">,</span><span class="nx">c</span><span class="p">)}</span><span class="nx">a</span><span class="p">.</span><span class="nx">__resize_handle</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="nx">h</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">__resize_handle</span><span class="p">.</span><span class="nx">style</span><span class="p">,{</span><span class="na">width</span><span class="p">:</span><span class="s2">"6px"</span><span class="p">,</span><span class="na">marginLeft</span><span class="p">:</span><span class="s2">"-3px"</span><span class="p">,</span><span class="na">height</span><span class="p">:</span><span class="s2">"200px"</span><span class="p">,</span><span class="na">cursor</span><span class="p">:</span><span class="s2">"ew-resize"</span><span class="p">,</span><span class="na">position</span><span class="p">:</span><span class="s2">"absolute"</span><span class="p">});</span><span class="kd">var</span> <span class="nx">e</span><span class="p">;</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">__resize_handle</span><span class="p">,</span><span class="s2">"mousedown"</span><span class="p">,</span><span class="nx">b</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">__closeButton</span><span class="p">,</span><span class="s2">"mousedown"</span><span class="p">,</span><span class="nx">b</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">__resize_handle</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">firstElementChild</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">F</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">b</span><span class="o">+</span><span class="s2">"px"</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">__save_row</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">autoPlace</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">__save_row</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">b</span><span class="o">+</span><span class="s2">"px"</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">__closeButton</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">__closeButton</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">b</span><span class="o">+</span><span class="s2">"px"</span><span class="p">)}</span>
<span class="kd">function</span> <span class="nx">B</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="p">{};</span><span class="nx">h</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">__rememberedObjects</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="p">{};</span><span class="nx">h</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">__rememberedObjectIndecesToControllers</span><span class="p">[</span><span class="nx">e</span><span class="p">],</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="nx">f</span><span class="p">[</span><span class="nx">d</span><span class="p">]</span><span class="o">=</span><span class="nx">b</span><span class="p">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">initialValue</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">getValue</span><span class="p">()});</span><span class="nx">d</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">=</span><span class="nx">f</span><span class="p">});</span><span class="k">return</span> <span class="nx">d</span><span class="p">}</span><span class="kd">function</span> <span class="nx">E</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"option"</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="nx">b</span><span class="p">;</span><span class="nx">c</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">b</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">__preset_select</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">__preset_select</span><span class="p">.</span><span class="nx">selectedIndex</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">__preset_select</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">D</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">__preset_select</span><span class="p">[</span><span class="nx">a</span><span class="p">.</span><span class="nx">__preset_select</span><span class="p">.</span><span class="nx">selectedIndex</span><span class="p">];</span><span class="nx">d</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="nx">b</span><span class="p">?</span><span class="nx">d</span><span class="p">.</span><span class="nx">value</span><span class="o">+</span><span class="s2">"*"</span><span class="p">:</span><span class="nx">d</span><span class="p">.</span><span class="nx">value</span><span class="p">}</span><span class="kd">function</span> <span class="nx">G</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="mi">0</span><span class="o">!=</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span>
<span class="nx">r</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">G</span><span class="p">(</span><span class="nx">a</span><span class="p">)});</span><span class="nx">h</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">updateDisplay</span><span class="p">()})}</span><span class="nx">e</span><span class="p">.</span><span class="nx">inject</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="kd">var</span> <span class="nx">z</span><span class="o">=</span><span class="s2">"Default"</span><span class="p">,</span><span class="nx">w</span><span class="p">;</span><span class="k">try</span><span class="p">{</span><span class="nx">w</span><span class="o">=</span><span class="s2">"localStorage"</span><span class="k">in</span> <span class="nb">window</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!==</span><span class="nb">window</span><span class="p">.</span><span class="nx">localStorage</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">M</span><span class="p">){</span><span class="nx">w</span><span class="o">=!</span><span class="mi">1</span><span class="p">}</span><span class="kd">var</span> <span class="nx">A</span><span class="p">,</span><span class="nx">H</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">x</span><span class="p">,</span><span class="nx">C</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">I</span><span class="o">=</span><span class="p">[],</span><span class="nx">m</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">function</span> <span class="nx">b</span><span class="p">(){</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="o">+</span><span class="s2">".gui"</span><span class="p">,</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">getSaveObject</span><span class="p">()))}</span><span class="kd">function</span> <span class="nx">d</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">getRoot</span><span class="p">();</span><span class="nx">a</span><span class="p">.</span><span class="nx">width</span><span class="o">+=</span><span class="mi">1</span><span class="p">;</span><span class="nx">h</span><span class="p">.</span><span class="nx">defer</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">a</span><span class="p">.</span><span class="nx">width</span><span class="o">-=</span><span class="mi">1</span><span class="p">})}</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__ul</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"ul"</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__ul</span><span class="p">);</span>
<span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">,</span><span class="s2">"dg"</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__folders</span><span class="o">=</span><span class="p">{};</span><span class="k">this</span><span class="p">.</span><span class="nx">__controllers</span><span class="o">=</span><span class="p">[];</span><span class="k">this</span><span class="p">.</span><span class="nx">__rememberedObjects</span><span class="o">=</span><span class="p">[];</span><span class="k">this</span><span class="p">.</span><span class="nx">__rememberedObjectIndecesToControllers</span><span class="o">=</span><span class="p">[];</span><span class="k">this</span><span class="p">.</span><span class="nx">__listening</span><span class="o">=</span><span class="p">[];</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="o">||</span><span class="p">{};</span><span class="nx">a</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">defaults</span><span class="p">(</span><span class="nx">a</span><span class="p">,{</span><span class="na">autoPlace</span><span class="p">:</span><span class="o">!</span><span class="mi">0</span><span class="p">,</span><span class="na">width</span><span class="p">:</span><span class="nx">m</span><span class="p">.</span><span class="nx">DEFAULT_WIDTH</span><span class="p">});</span><span class="nx">a</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">defaults</span><span class="p">(</span><span class="nx">a</span><span class="p">,{</span><span class="na">resizable</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">autoPlace</span><span class="p">,</span><span class="na">hideable</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">autoPlace</span><span class="p">});</span><span class="nx">h</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">load</span><span class="p">)?</span><span class="nx">a</span><span class="p">.</span><span class="nx">load</span><span class="o">=</span><span class="p">{</span><span class="na">preset</span><span class="p">:</span><span class="nx">z</span><span class="p">}:</span><span class="nx">a</span><span class="p">.</span><span class="nx">preset</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">preset</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">preset</span><span class="p">);</span><span class="nx">h</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">parent</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">hideable</span><span class="o">&amp;&amp;</span><span class="nx">I</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">resizable</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">parent</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">resizable</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">autoPlace</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">scrollable</span><span class="p">)</span><span class="o">&amp;&amp;</span>
<span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">scrollable</span><span class="o">=!</span><span class="mi">0</span><span class="p">);</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">w</span><span class="o">&amp;&amp;</span><span class="s2">"true"</span><span class="o">===</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="o">+</span><span class="s2">".isLocal"</span><span class="p">);</span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperties</span><span class="p">(</span><span class="k">this</span><span class="p">,{</span><span class="na">parent</span><span class="p">:{</span><span class="na">get</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">parent</span><span class="p">}},</span><span class="na">scrollable</span><span class="p">:{</span><span class="na">get</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">scrollable</span><span class="p">}},</span><span class="na">autoPlace</span><span class="p">:{</span><span class="na">get</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">autoPlace</span><span class="p">}},</span><span class="na">preset</span><span class="p">:{</span><span class="na">get</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">parent</span><span class="p">?</span><span class="nx">c</span><span class="p">.</span><span class="nx">getRoot</span><span class="p">().</span><span class="nx">preset</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">preset</span><span class="p">},</span><span class="na">set</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">c</span><span class="p">.</span><span class="nx">parent</span><span class="p">?</span><span class="nx">c</span><span class="p">.</span><span class="nx">getRoot</span><span class="p">().</span><span class="nx">preset</span><span class="o">=</span><span class="nx">b</span><span class="p">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">preset</span><span class="o">=</span><span class="nx">b</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">b</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">__preset_select</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">b</span><span class="o">++</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">__preset_select</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">value</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">preset</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__preset_select</span><span class="p">.</span><span class="nx">selectedIndex</span><span class="o">=</span>
<span class="nx">b</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">revert</span><span class="p">()}},</span><span class="na">width</span><span class="p">:{</span><span class="na">get</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">width</span><span class="p">},</span><span class="na">set</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">b</span><span class="p">;</span><span class="nx">F</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">b</span><span class="p">)}},</span><span class="na">name</span><span class="p">:{</span><span class="na">get</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">name</span><span class="p">},</span><span class="na">set</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">name</span><span class="o">=</span><span class="nx">b</span><span class="p">;</span><span class="nx">q</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">name</span><span class="p">)}},</span><span class="na">closed</span><span class="p">:{</span><span class="na">get</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">closed</span><span class="p">},</span><span class="na">set</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">closed</span><span class="o">=</span><span class="nx">b</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">closed</span><span class="p">?</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">__ul</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">CLASS_CLOSED</span><span class="p">):</span><span class="nx">g</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">__ul</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">CLASS_CLOSED</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">onResize</span><span class="p">();</span><span class="nx">c</span><span class="p">.</span><span class="nx">__closeButton</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">__closeButton</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="nx">b</span><span class="p">?</span><span class="nx">m</span><span class="p">.</span><span class="nx">TEXT_OPEN</span><span class="p">:</span><span class="nx">m</span><span class="p">.</span><span class="nx">TEXT_CLOSED</span><span class="p">)}},</span><span class="na">load</span><span class="p">:{</span><span class="na">get</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">load</span><span class="p">}},</span><span class="na">useLocalStorage</span><span class="p">:{</span><span class="na">get</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">e</span><span class="p">},</span><span class="na">set</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">w</span><span class="o">&amp;&amp;</span>
<span class="p">((</span><span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">)?</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span><span class="s2">"unload"</span><span class="p">,</span><span class="nx">b</span><span class="p">):</span><span class="nx">g</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span><span class="s2">"unload"</span><span class="p">,</span><span class="nx">b</span><span class="p">),</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="o">+</span><span class="s2">".isLocal"</span><span class="p">,</span><span class="nx">a</span><span class="p">))}}});</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">parent</span><span class="p">)){</span><span class="nx">a</span><span class="p">.</span><span class="nx">closed</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">CLASS_MAIN</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">makeSelectable</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">w</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">){</span><span class="nx">c</span><span class="p">.</span><span class="nx">useLocalStorage</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="o">+</span><span class="s2">".gui"</span><span class="p">);</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">load</span><span class="o">=</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">f</span><span class="p">))}</span><span class="k">this</span><span class="p">.</span><span class="nx">__closeButton</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__closeButton</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">TEXT_CLOSED</span><span class="p">;</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__closeButton</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">CLASS_CLOSE_BUTTON</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__closeButton</span><span class="p">);</span>
<span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__closeButton</span><span class="p">,</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">c</span><span class="p">.</span><span class="nx">closed</span><span class="o">=!</span><span class="nx">c</span><span class="p">.</span><span class="nx">closed</span><span class="p">})}</span><span class="k">else</span><span class="p">{</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">closed</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">closed</span><span class="o">=!</span><span class="mi">0</span><span class="p">);</span><span class="kd">var</span> <span class="nx">q</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">q</span><span class="p">,</span><span class="s2">"controller-name"</span><span class="p">);</span><span class="nx">f</span><span class="o">=</span><span class="nx">u</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">q</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__ul</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">CLASS_CLOSED</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="s2">"title"</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span><span class="nx">c</span><span class="p">.</span><span class="nx">closed</span><span class="o">=!</span><span class="nx">c</span><span class="p">.</span><span class="nx">closed</span><span class="p">;</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">});</span><span class="nx">a</span><span class="p">.</span><span class="nx">closed</span><span class="o">||</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">closed</span><span class="o">=!</span><span class="mi">1</span><span class="p">)}</span><span class="nx">a</span><span class="p">.</span><span class="nx">autoPlace</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">parent</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">H</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">x</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">),</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="s2">"dg"</span><span class="p">),</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">CLASS_AUTO_PLACE_CONTAINER</span><span class="p">),</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">x</span><span class="p">),</span>
<span class="nx">H</span><span class="o">=!</span><span class="mi">1</span><span class="p">),</span><span class="nx">x</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">),</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">CLASS_AUTO_PLACE</span><span class="p">)),</span><span class="k">this</span><span class="p">.</span><span class="nx">parent</span><span class="o">||</span><span class="nx">F</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">width</span><span class="p">));</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span><span class="s2">"resize"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">c</span><span class="p">.</span><span class="nx">onResize</span><span class="p">()});</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__ul</span><span class="p">,</span><span class="s2">"webkitTransitionEnd"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">c</span><span class="p">.</span><span class="nx">onResize</span><span class="p">()});</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__ul</span><span class="p">,</span><span class="s2">"transitionend"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">c</span><span class="p">.</span><span class="nx">onResize</span><span class="p">()});</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__ul</span><span class="p">,</span><span class="s2">"oTransitionEnd"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">c</span><span class="p">.</span><span class="nx">onResize</span><span class="p">()});</span><span class="k">this</span><span class="p">.</span><span class="nx">onResize</span><span class="p">();</span><span class="nx">a</span><span class="p">.</span><span class="nx">resizable</span><span class="o">&amp;&amp;</span><span class="nx">L</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">getRoot</span><span class="p">();</span><span class="nx">a</span><span class="p">.</span><span class="nx">parent</span><span class="o">||</span><span class="nx">d</span><span class="p">()};</span><span class="nx">m</span><span class="p">.</span><span class="nx">toggleHide</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">C</span><span class="o">=!</span><span class="nx">C</span><span class="p">;</span><span class="nx">h</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">I</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">zIndex</span><span class="o">=</span><span class="nx">C</span><span class="p">?</span><span class="o">-</span><span class="mi">999</span><span class="p">:</span><span class="mi">999</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">opacity</span><span class="o">=</span>
<span class="nx">C</span><span class="p">?</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">})};</span><span class="nx">m</span><span class="p">.</span><span class="nx">CLASS_AUTO_PLACE</span><span class="o">=</span><span class="s2">"a"</span><span class="p">;</span><span class="nx">m</span><span class="p">.</span><span class="nx">CLASS_AUTO_PLACE_CONTAINER</span><span class="o">=</span><span class="s2">"ac"</span><span class="p">;</span><span class="nx">m</span><span class="p">.</span><span class="nx">CLASS_MAIN</span><span class="o">=</span><span class="s2">"main"</span><span class="p">;</span><span class="nx">m</span><span class="p">.</span><span class="nx">CLASS_CONTROLLER_ROW</span><span class="o">=</span><span class="s2">"cr"</span><span class="p">;</span><span class="nx">m</span><span class="p">.</span><span class="nx">CLASS_TOO_TALL</span><span class="o">=</span><span class="s2">"taller-than-window"</span><span class="p">;</span><span class="nx">m</span><span class="p">.</span><span class="nx">CLASS_CLOSED</span><span class="o">=</span><span class="s2">"closed"</span><span class="p">;</span><span class="nx">m</span><span class="p">.</span><span class="nx">CLASS_CLOSE_BUTTON</span><span class="o">=</span><span class="s2">"close-button"</span><span class="p">;</span><span class="nx">m</span><span class="p">.</span><span class="nx">CLASS_DRAG</span><span class="o">=</span><span class="s2">"drag"</span><span class="p">;</span><span class="nx">m</span><span class="p">.</span><span class="nx">DEFAULT_WIDTH</span><span class="o">=</span><span class="mi">245</span><span class="p">;</span><span class="nx">m</span><span class="p">.</span><span class="nx">TEXT_CLOSED</span><span class="o">=</span><span class="s2">"Close Controls"</span><span class="p">;</span><span class="nx">m</span><span class="p">.</span><span class="nx">TEXT_OPEN</span><span class="o">=</span><span class="s2">"Open Controls"</span><span class="p">;</span><span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span><span class="s2">"keydown"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="s2">"text"</span><span class="o">===</span><span class="nb">document</span><span class="p">.</span><span class="nx">activeElement</span><span class="p">.</span><span class="nx">type</span><span class="o">||</span><span class="mi">72</span><span class="o">!==</span><span class="nx">a</span><span class="p">.</span><span class="nx">which</span><span class="o">&amp;&amp;</span><span class="mi">72</span><span class="o">!=</span><span class="nx">a</span><span class="p">.</span><span class="nx">keyCode</span><span class="o">||</span><span class="nx">m</span><span class="p">.</span><span class="nx">toggleHide</span><span class="p">()},</span><span class="o">!</span><span class="mi">1</span><span class="p">);</span><span class="nx">h</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="na">add</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,{</span><span class="na">factoryArgs</span><span class="p">:</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span>
<span class="mi">2</span><span class="p">)})},</span><span class="na">addColor</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,{</span><span class="na">color</span><span class="p">:</span><span class="o">!</span><span class="mi">0</span><span class="p">})},</span><span class="na">remove</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">__ul</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">__li</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__controllers</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__controllers</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="mi">1</span><span class="p">);</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="nx">h</span><span class="p">.</span><span class="nx">defer</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">b</span><span class="p">.</span><span class="nx">onResize</span><span class="p">()})},</span><span class="na">destroy</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">autoPlace</span><span class="o">&amp;&amp;</span><span class="nx">x</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">)},</span><span class="na">addFolder</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">__folders</span><span class="p">[</span><span class="nx">a</span><span class="p">])</span><span class="k">throw</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">'You already have a folder in this GUI by the name "'</span><span class="o">+</span><span class="nx">a</span><span class="o">+</span><span class="s1">'"'</span><span class="p">);</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="p">{</span><span class="na">name</span><span class="p">:</span><span class="nx">a</span><span class="p">,</span><span class="na">parent</span><span class="p">:</span><span class="k">this</span><span class="p">};</span><span class="nx">b</span><span class="p">.</span><span class="nx">autoPlace</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">autoPlace</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">load</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">folders</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">folders</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">&amp;&amp;</span>
<span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">closed</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">folders</span><span class="p">[</span><span class="nx">a</span><span class="p">].</span><span class="nx">closed</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">load</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">folders</span><span class="p">[</span><span class="nx">a</span><span class="p">]);</span><span class="nx">b</span><span class="o">=</span><span class="k">new</span> <span class="nx">m</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__folders</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">=</span><span class="nx">b</span><span class="p">;</span><span class="nx">a</span><span class="o">=</span><span class="nx">u</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">domElement</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">"folder"</span><span class="p">);</span><span class="k">return</span> <span class="nx">b</span><span class="p">},</span><span class="na">open</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">closed</span><span class="o">=!</span><span class="mi">1</span><span class="p">},</span><span class="na">close</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">closed</span><span class="o">=!</span><span class="mi">0</span><span class="p">},</span><span class="na">onResize</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getRoot</span><span class="p">();</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">scrollable</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">getOffset</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">__ul</span><span class="p">).</span><span class="nx">top</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">h</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">__ul</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">autoPlace</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">__save_row</span><span class="o">||</span><span class="p">(</span><span class="nx">d</span><span class="o">+=</span><span class="nx">g</span><span class="p">.</span><span class="nx">getHeight</span><span class="p">(</span><span class="nx">b</span><span class="p">))});</span><span class="nb">window</span><span class="p">.</span><span class="nx">innerHeight</span><span class="o">-</span><span class="nx">b</span><span class="o">-</span><span class="mi">20</span><span class="o">&lt;</span><span class="nx">d</span><span class="p">?(</span><span class="nx">g</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">domElement</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">CLASS_TOO_TALL</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">__ul</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">innerHeight</span><span class="o">-</span>
<span class="nx">b</span><span class="o">-</span><span class="mi">20</span><span class="o">+</span><span class="s2">"px"</span><span class="p">):(</span><span class="nx">g</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">domElement</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">CLASS_TOO_TALL</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">__ul</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="s2">"auto"</span><span class="p">)}</span><span class="nx">a</span><span class="p">.</span><span class="nx">__resize_handle</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="p">.</span><span class="nx">defer</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">a</span><span class="p">.</span><span class="nx">__resize_handle</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">__ul</span><span class="p">.</span><span class="nx">offsetHeight</span><span class="o">+</span><span class="s2">"px"</span><span class="p">});</span><span class="nx">a</span><span class="p">.</span><span class="nx">__closeButton</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">__closeButton</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">width</span><span class="o">+</span><span class="s2">"px"</span><span class="p">)},</span><span class="na">remember</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">h</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="nx">A</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">A</span><span class="o">=</span><span class="k">new</span> <span class="nx">y</span><span class="p">,</span><span class="nx">A</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="nx">a</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">parent</span><span class="p">)</span><span class="k">throw</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"You can only call remember on a top level GUI."</span><span class="p">);</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="nx">h</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">),</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="mi">0</span><span class="o">==</span><span class="nx">b</span><span class="p">.</span><span class="nx">__rememberedObjects</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="nx">K</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="o">-</span><span class="mi">1</span><span class="o">==</span>
<span class="nx">b</span><span class="p">.</span><span class="nx">__rememberedObjects</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">__rememberedObjects</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">a</span><span class="p">)});</span><span class="k">this</span><span class="p">.</span><span class="nx">autoPlace</span><span class="o">&amp;&amp;</span><span class="nx">F</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="p">)},</span><span class="na">getRoot</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">parent</span><span class="p">;)</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">parent</span><span class="p">;</span><span class="k">return</span> <span class="nx">a</span><span class="p">},</span><span class="na">getSaveObject</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">load</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">closed</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">closed</span><span class="p">;</span><span class="mi">0</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">__rememberedObjects</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">preset</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">preset</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">remembered</span><span class="o">||</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">remembered</span><span class="o">=</span><span class="p">{}),</span><span class="nx">a</span><span class="p">.</span><span class="nx">remembered</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">preset</span><span class="p">]</span><span class="o">=</span><span class="nx">B</span><span class="p">(</span><span class="k">this</span><span class="p">));</span><span class="nx">a</span><span class="p">.</span><span class="nx">folders</span><span class="o">=</span><span class="p">{};</span><span class="nx">h</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__folders</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">folders</span><span class="p">[</span><span class="nx">d</span><span class="p">]</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">getSaveObject</span><span class="p">()});</span><span class="k">return</span> <span class="nx">a</span><span class="p">},</span><span class="na">save</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">remembered</span><span class="o">||</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">remembered</span><span class="o">=</span>
<span class="p">{});</span><span class="k">this</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">remembered</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">preset</span><span class="p">]</span><span class="o">=</span><span class="nx">B</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="nx">D</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">)},</span><span class="na">saveAs</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">remembered</span><span class="o">||</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">remembered</span><span class="o">=</span><span class="p">{},</span><span class="k">this</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">remembered</span><span class="p">[</span><span class="nx">z</span><span class="p">]</span><span class="o">=</span><span class="nx">B</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">));</span><span class="k">this</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">remembered</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">=</span><span class="nx">B</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">preset</span><span class="o">=</span><span class="nx">a</span><span class="p">;</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)},</span><span class="na">revert</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">h</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__controllers</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">getRoot</span><span class="p">().</span><span class="nx">load</span><span class="p">.</span><span class="nx">remembered</span><span class="p">?</span><span class="nx">v</span><span class="p">(</span><span class="nx">a</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">getRoot</span><span class="p">(),</span><span class="nx">b</span><span class="p">):</span><span class="nx">b</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">initialValue</span><span class="p">)},</span><span class="k">this</span><span class="p">);</span><span class="nx">h</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__folders</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">revert</span><span class="p">(</span><span class="nx">a</span><span class="p">)});</span><span class="nx">a</span><span class="o">||</span><span class="nx">D</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getRoot</span><span class="p">(),</span><span class="o">!</span><span class="mi">1</span><span class="p">)},</span><span class="na">listen</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="mi">0</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">__listening</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__listening</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>
<span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">G</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__listening</span><span class="p">)}});</span><span class="k">return</span> <span class="nx">m</span><span class="p">}(</span><span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">css</span><span class="p">,</span><span class="s1">'&lt;div id="dg-save" class="dg dialogue"&gt;\n\n  Here\'s the new load parameter for your &lt;code&gt;GUI&lt;/code&gt;\'s constructor:\n\n  &lt;textarea id="dg-new-constructor"&gt;&lt;/textarea&gt;\n\n  &lt;div id="dg-save-locally"&gt;\n\n    &lt;input id="dg-local-storage" type="checkbox"/&gt; Automatically save\n    values to &lt;code&gt;localStorage&lt;/code&gt; on exit.\n\n    &lt;div id="dg-local-explain"&gt;The values saved to &lt;code&gt;localStorage&lt;/code&gt; will\n      override those passed to &lt;code&gt;dat.GUI&lt;/code&gt;\'s constructor. This makes it\n      easier to work incrementally, but &lt;code&gt;localStorage&lt;/code&gt; is fragile,\n      and your friends may not see the same values you do.\n      \n    &lt;/div&gt;\n    \n  &lt;/div&gt;\n\n&lt;/div&gt;'</span><span class="p">,</span>
<span class="s2">".dg {\n  /** Clear list styles */\n  /* Auto-place container */\n  /* Auto-placed GUI's */\n  /* Line items that don't contain folders. */\n  /** Folder names */\n  /** Hides closed items */\n  /** Controller row */\n  /** Name-half (left) */\n  /** Controller-half (right) */\n  /** Controller placement */\n  /** Shorter number boxes when slider is present. */\n  /** Ensure the entire boolean and function row shows a hand */ }\n  .dg ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    clear: both; }\n  .dg.ac {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 0;\n    z-index: 0; }\n  .dg:not(.ac) .main {\n    /** Exclude mains in ac so that we don't hide close button */\n    overflow: hidden; }\n  .dg.main {\n    -webkit-transition: opacity 0.1s linear;\n    -o-transition: opacity 0.1s linear;\n    -moz-transition: opacity 0.1s linear;\n    transition: opacity 0.1s linear; }\n    .dg.main.taller-than-window {\n      overflow-y: auto; }\n      .dg.main.taller-than-window .close-button {\n        opacity: 1;\n        /* TODO, these are style notes */\n        margin-top: -1px;\n        border-top: 1px solid #2c2c2c; }\n    .dg.main ul.closed .close-button {\n      opacity: 1 !important; }\n    .dg.main:hover .close-button,\n    .dg.main .close-button.drag {\n      opacity: 1; }\n    .dg.main .close-button {\n      /*opacity: 0;*/\n      -webkit-transition: opacity 0.1s linear;\n      -o-transition: opacity 0.1s linear;\n      -moz-transition: opacity 0.1s linear;\n      transition: opacity 0.1s linear;\n      border: 0;\n      position: absolute;\n      line-height: 19px;\n      height: 20px;\n      /* TODO, these are style notes */\n      cursor: pointer;\n      text-align: center;\n      background-color: #000; }\n      .dg.main .close-button:hover {\n        background-color: #111; }\n  .dg.a {\n    float: right;\n    margin-right: 15px;\n    overflow-x: hidden; }\n    .dg.a.has-save &gt; ul {\n      margin-top: 27px; }\n      .dg.a.has-save &gt; ul.closed {\n        margin-top: 0; }\n    .dg.a .save-row {\n      position: fixed;\n      top: 0;\n      z-index: 1002; }\n  .dg li {\n    -webkit-transition: height 0.1s ease-out;\n    -o-transition: height 0.1s ease-out;\n    -moz-transition: height 0.1s ease-out;\n    transition: height 0.1s ease-out; }\n  .dg li:not(.folder) {\n    cursor: auto;\n    height: 27px;\n    line-height: 27px;\n    overflow: hidden;\n    padding: 0 4px 0 5px; }\n  .dg li.folder {\n    padding: 0;\n    border-left: 4px solid rgba(0, 0, 0, 0); }\n  .dg li.title {\n    cursor: pointer;\n    margin-left: -4px; }\n  .dg .closed li:not(.title),\n  .dg .closed ul li,\n  .dg .closed ul li &gt; * {\n    height: 0;\n    overflow: hidden;\n    border: 0; }\n  .dg .cr {\n    clear: both;\n    padding-left: 3px;\n    height: 27px; }\n  .dg .property-name {\n    cursor: default;\n    float: left;\n    clear: left;\n    width: 40%;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n  .dg .c {\n    float: left;\n    width: 60%; }\n  .dg .c input[type=text] {\n    border: 0;\n    margin-top: 4px;\n    padding: 3px;\n    width: 100%;\n    float: right; }\n  .dg .has-slider input[type=text] {\n    width: 30%;\n    /*display: none;*/\n    margin-left: 0; }\n  .dg .slider {\n    float: left;\n    width: 66%;\n    margin-left: -5px;\n    margin-right: 0;\n    height: 19px;\n    margin-top: 4px; }\n  .dg .slider-fg {\n    height: 100%; }\n  .dg .c input[type=checkbox] {\n    margin-top: 9px; }\n  .dg .c select {\n    margin-top: 5px; }\n  .dg .cr.function,\n  .dg .cr.function .property-name,\n  .dg .cr.function *,\n  .dg .cr.boolean,\n  .dg .cr.boolean * {\n    cursor: pointer; }\n  .dg .selector {\n    display: none;\n    position: absolute;\n    margin-left: -9px;\n    margin-top: 23px;\n    z-index: 10; }\n  .dg .c:hover .selector,\n  .dg .selector.drag {\n    display: block; }\n  .dg li.save-row {\n    padding: 0; }\n    .dg li.save-row .button {\n      display: inline-block;\n      padding: 0px 6px; }\n  .dg.dialogue {\n    background-color: #222;\n    width: 460px;\n    padding: 15px;\n    font-size: 13px;\n    line-height: 15px; }\n\n/* TODO Separate style and structure */\n#dg-new-constructor {\n  padding: 10px;\n  color: #222;\n  font-family: Monaco, monospace;\n  font-size: 10px;\n  border: 0;\n  resize: none;\n  box-shadow: inset 1px 1px 1px #888;\n  word-wrap: break-word;\n  margin: 12px 0;\n  display: block;\n  width: 440px;\n  overflow-y: scroll;\n  height: 100px;\n  position: relative; }\n\n#dg-local-explain {\n  display: none;\n  font-size: 11px;\n  line-height: 17px;\n  border-radius: 3px;\n  background-color: #333;\n  padding: 8px;\n  margin-top: 10px; }\n  #dg-local-explain code {\n    font-size: 10px; }\n\n#dat-gui-save-locally {\n  display: none; }\n\n/** Main type */\n.dg {\n  color: #eee;\n  font: 11px 'Lucida Grande', sans-serif;\n  text-shadow: 0 -1px 0 #111;\n  /** Auto place */\n  /* Controller row, &lt;li&gt; */\n  /** Controllers */ }\n  .dg.main {\n    /** Scrollbar */ }\n    .dg.main::-webkit-scrollbar {\n      width: 5px;\n      background: #1a1a1a; }\n    .dg.main::-webkit-scrollbar-corner {\n      height: 0;\n      display: none; }\n    .dg.main::-webkit-scrollbar-thumb {\n      border-radius: 5px;\n      background: #676767; }\n  .dg li:not(.folder) {\n    background: #1a1a1a;\n    border-bottom: 1px solid #2c2c2c; }\n  .dg li.save-row {\n    line-height: 25px;\n    background: #dad5cb;\n    border: 0; }\n    .dg li.save-row select {\n      margin-left: 5px;\n      width: 108px; }\n    .dg li.save-row .button {\n      margin-left: 5px;\n      margin-top: 1px;\n      border-radius: 2px;\n      font-size: 9px;\n      line-height: 7px;\n      padding: 4px 4px 5px 4px;\n      background: #c5bdad;\n      color: #fff;\n      text-shadow: 0 1px 0 #b0a58f;\n      box-shadow: 0 -1px 0 #b0a58f;\n      cursor: pointer; }\n      .dg li.save-row .button.gears {\n        background: #c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;\n        height: 7px;\n        width: 8px; }\n      .dg li.save-row .button:hover {\n        background-color: #bab19e;\n        box-shadow: 0 -1px 0 #b0a58f; }\n  .dg li.folder {\n    border-bottom: 0; }\n  .dg li.title {\n    padding-left: 16px;\n    background: black url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;\n    cursor: pointer;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2); }\n  .dg .closed li.title {\n    background-image: url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==); }\n  .dg .cr.boolean {\n    border-left: 3px solid #806787; }\n  .dg .cr.function {\n    border-left: 3px solid #e61d5f; }\n  .dg .cr.number {\n    border-left: 3px solid #2fa1d6; }\n    .dg .cr.number input[type=text] {\n      color: #2fa1d6; }\n  .dg .cr.string {\n    border-left: 3px solid #1ed36f; }\n    .dg .cr.string input[type=text] {\n      color: #1ed36f; }\n  .dg .cr.function:hover, .dg .cr.boolean:hover {\n    background: #111; }\n  .dg .c input[type=text] {\n    background: #303030;\n    outline: none; }\n    .dg .c input[type=text]:hover {\n      background: #3c3c3c; }\n    .dg .c input[type=text]:focus {\n      background: #494949;\n      color: #fff; }\n  .dg .c .slider {\n    background: #303030;\n    cursor: ew-resize; }\n  .dg .c .slider-fg {\n    background: #2fa1d6; }\n  .dg .c .slider:hover {\n    background: #3c3c3c; }\n    .dg .c .slider:hover .slider-fg {\n      background: #44abda; }\n"</span><span class="p">,</span>
<span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">factory</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">p</span><span class="p">){</span><span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">q</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">k</span><span class="p">[</span><span class="nx">l</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">q</span><span class="p">)</span><span class="o">||</span><span class="nx">p</span><span class="p">.</span><span class="nx">isObject</span><span class="p">(</span><span class="nx">q</span><span class="p">))</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">q</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">r</span><span class="p">))</span><span class="k">return</span> <span class="nx">p</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">q</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">p</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">n</span><span class="p">)?</span><span class="k">new</span> <span class="nx">b</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">q</span><span class="p">,</span><span class="nx">n</span><span class="p">):</span><span class="k">new</span> <span class="nx">a</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,{</span><span class="na">min</span><span class="p">:</span><span class="nx">q</span><span class="p">,</span><span class="na">max</span><span class="p">:</span><span class="nx">n</span><span class="p">});</span><span class="k">if</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">isString</span><span class="p">(</span><span class="nx">r</span><span class="p">))</span><span class="k">return</span> <span class="k">new</span> <span class="nx">d</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">r</span><span class="p">))</span><span class="k">return</span> <span class="k">new</span> <span class="nx">f</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="s2">""</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">isBoolean</span><span class="p">(</span><span class="nx">r</span><span class="p">))</span><span class="k">return</span> <span class="k">new</span> <span class="nx">c</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">)}}(</span><span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">OptionController</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">NumberControllerBox</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">NumberControllerSlider</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">StringController</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span>
<span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">function</span> <span class="nx">e</span><span class="p">(){</span><span class="nx">k</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="nx">k</span><span class="p">.</span><span class="nx">__input</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span><span class="nx">d</span><span class="p">.</span><span class="nx">superclass</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"input"</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">"type"</span><span class="p">,</span><span class="s2">"text"</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="p">,</span><span class="s2">"keyup"</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="p">,</span><span class="s2">"change"</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="p">,</span><span class="s2">"blur"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">k</span><span class="p">.</span><span class="nx">__onFinishChange</span><span class="o">&amp;&amp;</span><span class="nx">k</span><span class="p">.</span><span class="nx">__onFinishChange</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span><span class="nx">k</span><span class="p">.</span><span class="nx">getValue</span><span class="p">())});</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="p">,</span><span class="s2">"keydown"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="mi">13</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">keyCode</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">blur</span><span class="p">()});</span><span class="k">this</span><span class="p">.</span><span class="nx">updateDisplay</span><span class="p">();</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="p">)};</span><span class="nx">d</span><span class="p">.</span><span class="nx">superclass</span><span class="o">=</span><span class="nx">e</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span>
<span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="na">updateDisplay</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">a</span><span class="p">.</span><span class="nx">isActive</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getValue</span><span class="p">());</span><span class="k">return</span> <span class="nx">d</span><span class="p">.</span><span class="nx">superclass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">updateDisplay</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)}});</span><span class="k">return</span> <span class="nx">d</span><span class="p">}(</span><span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">Controller</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">dom</span><span class="p">.</span><span class="nx">dom</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">common</span><span class="p">),</span><span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">FunctionController</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">BooleanController</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">common</span><span class="p">),</span><span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">Controller</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">BooleanController</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">FunctionController</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">NumberControllerBox</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">NumberControllerSlider</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">OptionController</span><span class="p">,</span>
<span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">ColorController</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="kd">function</span> <span class="nx">c</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">background</span><span class="o">=</span><span class="s2">""</span><span class="p">;</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="o">+=</span><span class="s2">"background: "</span><span class="o">+</span><span class="nx">e</span><span class="o">+</span><span class="s2">"linear-gradient("</span><span class="o">+</span><span class="nx">b</span><span class="o">+</span><span class="s2">", "</span><span class="o">+</span><span class="nx">d</span><span class="o">+</span><span class="s2">" 0%, "</span><span class="o">+</span><span class="nx">c</span><span class="o">+</span><span class="s2">" 100%); "</span><span class="p">})}</span><span class="kd">function</span> <span class="nx">p</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">background</span><span class="o">=</span><span class="s2">""</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="o">+=</span><span class="s2">"background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);"</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="o">+=</span><span class="s2">"background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"</span><span class="p">;</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="o">+=</span><span class="s2">"background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="o">+=</span><span class="s2">"background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="o">+=</span><span class="s2">"background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"</span><span class="p">}</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">function</span> <span class="nx">r</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">t</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span><span class="s2">"mousemove"</span><span class="p">,</span><span class="nx">t</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span>
<span class="s2">"mouseup"</span><span class="p">,</span><span class="nx">l</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">l</span><span class="p">(){</span><span class="nx">a</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span><span class="s2">"mousemove"</span><span class="p">,</span><span class="nx">t</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span><span class="s2">"mouseup"</span><span class="p">,</span><span class="nx">l</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">g</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span><span class="o">!</span><span class="mi">1</span><span class="o">!==</span><span class="nx">a</span><span class="p">?(</span><span class="nx">s</span><span class="p">.</span><span class="nx">__color</span><span class="p">.</span><span class="nx">__state</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">__color</span><span class="p">.</span><span class="nx">toOriginal</span><span class="p">())):</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">__color</span><span class="p">.</span><span class="nx">toString</span><span class="p">()}</span><span class="kd">function</span> <span class="nx">h</span><span class="p">(){</span><span class="nx">a</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span><span class="s2">"mousemove"</span><span class="p">,</span><span class="nx">u</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span><span class="s2">"mouseup"</span><span class="p">,</span><span class="nx">h</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">t</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getWidth</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">__saturation_field</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getOffset</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">__saturation_field</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">clientX</span><span class="o">-</span><span class="nx">c</span><span class="p">.</span><span class="nx">left</span><span class="o">+</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="p">)</span><span class="o">/</span><span class="nx">d</span><span class="p">;</span><span class="nx">b</span><span class="o">=</span><span class="mi">1</span><span class="o">-</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">clientY</span><span class="o">-</span><span class="nx">c</span><span class="p">.</span><span class="nx">top</span><span class="o">+</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">)</span><span class="o">/</span><span class="nx">d</span><span class="p">;</span><span class="mi">1</span><span class="o">&lt;</span><span class="nx">b</span><span class="p">?</span><span class="nx">b</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span>
<span class="nx">b</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span><span class="mi">1</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">?</span><span class="nx">e</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span><span class="nx">s</span><span class="p">.</span><span class="nx">__color</span><span class="p">.</span><span class="nx">v</span><span class="o">=</span><span class="nx">b</span><span class="p">;</span><span class="nx">s</span><span class="p">.</span><span class="nx">__color</span><span class="p">.</span><span class="nx">s</span><span class="o">=</span><span class="nx">e</span><span class="p">;</span><span class="nx">s</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">__color</span><span class="p">.</span><span class="nx">toOriginal</span><span class="p">());</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">}</span><span class="kd">function</span> <span class="nx">u</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getHeight</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">__hue_field</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getOffset</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">__hue_field</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="mi">1</span><span class="o">-</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">clientY</span><span class="o">-</span><span class="nx">c</span><span class="p">.</span><span class="nx">top</span><span class="o">+</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">)</span><span class="o">/</span><span class="nx">d</span><span class="p">;</span><span class="mi">1</span><span class="o">&lt;</span><span class="nx">b</span><span class="p">?</span><span class="nx">b</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span><span class="nx">s</span><span class="p">.</span><span class="nx">__color</span><span class="p">.</span><span class="nx">h</span><span class="o">=</span><span class="mi">360</span><span class="o">*</span><span class="nx">b</span><span class="p">;</span><span class="nx">s</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">__color</span><span class="p">.</span><span class="nx">toOriginal</span><span class="p">());</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">}</span><span class="nx">k</span><span class="p">.</span><span class="nx">superclass</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__color</span><span class="o">=</span><span class="k">new</span> <span class="nx">b</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getValue</span><span class="p">());</span><span class="k">this</span><span class="p">.</span><span class="nx">__temp</span><span class="o">=</span><span class="k">new</span> <span class="nx">b</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">makeSelectable</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">);</span>
<span class="k">this</span><span class="p">.</span><span class="nx">__selector</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__selector</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="s2">"selector"</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__saturation_field</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__saturation_field</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="s2">"saturation-field"</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__field_knob</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__field_knob</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="s2">"field-knob"</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__field_knob_border</span><span class="o">=</span><span class="s2">"2px solid "</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__hue_knob</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__hue_knob</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="s2">"hue-knob"</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__hue_field</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__hue_field</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="s2">"hue-field"</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"input"</span><span class="p">);</span>
<span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">"text"</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__input_textShadow</span><span class="o">=</span><span class="s2">"0 1px 1px "</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="p">,</span><span class="s2">"keydown"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="mi">13</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">keyCode</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)});</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="p">,</span><span class="s2">"blur"</span><span class="p">,</span><span class="nx">g</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__selector</span><span class="p">,</span><span class="s2">"mousedown"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">"drag"</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span><span class="s2">"mouseup"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">__selector</span><span class="p">,</span><span class="s2">"drag"</span><span class="p">)})});</span><span class="kd">var</span> <span class="nx">v</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__selector</span><span class="p">.</span><span class="nx">style</span><span class="p">,{</span><span class="na">width</span><span class="p">:</span><span class="s2">"122px"</span><span class="p">,</span><span class="na">height</span><span class="p">:</span><span class="s2">"102px"</span><span class="p">,</span><span class="na">padding</span><span class="p">:</span><span class="s2">"3px"</span><span class="p">,</span><span class="na">backgroundColor</span><span class="p">:</span><span class="s2">"#222"</span><span class="p">,</span><span class="na">boxShadow</span><span class="p">:</span><span class="s2">"0px 1px 3px rgba(0,0,0,0.3)"</span><span class="p">});</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__field_knob</span><span class="p">.</span><span class="nx">style</span><span class="p">,</span>
<span class="p">{</span><span class="na">position</span><span class="p">:</span><span class="s2">"absolute"</span><span class="p">,</span><span class="na">width</span><span class="p">:</span><span class="s2">"12px"</span><span class="p">,</span><span class="na">height</span><span class="p">:</span><span class="s2">"12px"</span><span class="p">,</span><span class="na">border</span><span class="p">:</span><span class="k">this</span><span class="p">.</span><span class="nx">__field_knob_border</span><span class="o">+</span><span class="p">(</span><span class="mf">0.5</span><span class="o">&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">__color</span><span class="p">.</span><span class="nx">v</span><span class="p">?</span><span class="s2">"#fff"</span><span class="p">:</span><span class="s2">"#000"</span><span class="p">),</span><span class="na">boxShadow</span><span class="p">:</span><span class="s2">"0px 1px 3px rgba(0,0,0,0.5)"</span><span class="p">,</span><span class="na">borderRadius</span><span class="p">:</span><span class="s2">"12px"</span><span class="p">,</span><span class="na">zIndex</span><span class="p">:</span><span class="mi">1</span><span class="p">});</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__hue_knob</span><span class="p">.</span><span class="nx">style</span><span class="p">,{</span><span class="na">position</span><span class="p">:</span><span class="s2">"absolute"</span><span class="p">,</span><span class="na">width</span><span class="p">:</span><span class="s2">"15px"</span><span class="p">,</span><span class="na">height</span><span class="p">:</span><span class="s2">"2px"</span><span class="p">,</span><span class="na">borderRight</span><span class="p">:</span><span class="s2">"4px solid #fff"</span><span class="p">,</span><span class="na">zIndex</span><span class="p">:</span><span class="mi">1</span><span class="p">});</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__saturation_field</span><span class="p">.</span><span class="nx">style</span><span class="p">,{</span><span class="na">width</span><span class="p">:</span><span class="s2">"100px"</span><span class="p">,</span><span class="na">height</span><span class="p">:</span><span class="s2">"100px"</span><span class="p">,</span><span class="na">border</span><span class="p">:</span><span class="s2">"1px solid #555"</span><span class="p">,</span><span class="na">marginRight</span><span class="p">:</span><span class="s2">"3px"</span><span class="p">,</span><span class="na">display</span><span class="p">:</span><span class="s2">"inline-block"</span><span class="p">,</span><span class="na">cursor</span><span class="p">:</span><span class="s2">"pointer"</span><span class="p">});</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">v</span><span class="p">.</span><span class="nx">style</span><span class="p">,{</span><span class="na">width</span><span class="p">:</span><span class="s2">"100%"</span><span class="p">,</span><span class="na">height</span><span class="p">:</span><span class="s2">"100%"</span><span class="p">,</span>
<span class="na">background</span><span class="p">:</span><span class="s2">"none"</span><span class="p">});</span><span class="nx">c</span><span class="p">(</span><span class="nx">v</span><span class="p">,</span><span class="s2">"top"</span><span class="p">,</span><span class="s2">"rgba(0,0,0,0)"</span><span class="p">,</span><span class="s2">"#000"</span><span class="p">);</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__hue_field</span><span class="p">.</span><span class="nx">style</span><span class="p">,{</span><span class="na">width</span><span class="p">:</span><span class="s2">"15px"</span><span class="p">,</span><span class="na">height</span><span class="p">:</span><span class="s2">"100px"</span><span class="p">,</span><span class="na">display</span><span class="p">:</span><span class="s2">"inline-block"</span><span class="p">,</span><span class="na">border</span><span class="p">:</span><span class="s2">"1px solid #555"</span><span class="p">,</span><span class="na">cursor</span><span class="p">:</span><span class="s2">"ns-resize"</span><span class="p">});</span><span class="nx">p</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__hue_field</span><span class="p">);</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="p">.</span><span class="nx">style</span><span class="p">,{</span><span class="na">outline</span><span class="p">:</span><span class="s2">"none"</span><span class="p">,</span><span class="na">textAlign</span><span class="p">:</span><span class="s2">"center"</span><span class="p">,</span><span class="na">color</span><span class="p">:</span><span class="s2">"#fff"</span><span class="p">,</span><span class="na">border</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="na">fontWeight</span><span class="p">:</span><span class="s2">"bold"</span><span class="p">,</span><span class="na">textShadow</span><span class="p">:</span><span class="k">this</span><span class="p">.</span><span class="nx">__input_textShadow</span><span class="o">+</span><span class="s2">"rgba(0,0,0,0.7)"</span><span class="p">});</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__saturation_field</span><span class="p">,</span><span class="s2">"mousedown"</span><span class="p">,</span><span class="nx">r</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__field_knob</span><span class="p">,</span><span class="s2">"mousedown"</span><span class="p">,</span><span class="nx">r</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__hue_field</span><span class="p">,</span><span class="s2">"mousedown"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">u</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span>
<span class="s2">"mousemove"</span><span class="p">,</span><span class="nx">u</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span><span class="s2">"mouseup"</span><span class="p">,</span><span class="nx">h</span><span class="p">)});</span><span class="k">this</span><span class="p">.</span><span class="nx">__saturation_field</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">v</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__selector</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__field_knob</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__selector</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__saturation_field</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__selector</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__hue_field</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__hue_field</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__hue_knob</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__selector</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">updateDisplay</span><span class="p">()};</span><span class="nx">k</span><span class="p">.</span><span class="nx">superclass</span><span class="o">=</span><span class="nx">e</span><span class="p">;</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">k</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="na">updateDisplay</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getValue</span><span class="p">());</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="o">!==</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span>
<span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">COMPONENTS</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">f</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">b</span><span class="p">])</span><span class="o">&amp;&amp;!</span><span class="nx">f</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__color</span><span class="p">.</span><span class="nx">__state</span><span class="p">[</span><span class="nx">b</span><span class="p">])</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">__color</span><span class="p">.</span><span class="nx">__state</span><span class="p">[</span><span class="nx">b</span><span class="p">])</span><span class="k">return</span> <span class="nx">e</span><span class="o">=!</span><span class="mi">0</span><span class="p">,{}},</span><span class="k">this</span><span class="p">);</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__color</span><span class="p">.</span><span class="nx">__state</span><span class="p">,</span><span class="nx">a</span><span class="p">)}</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__temp</span><span class="p">.</span><span class="nx">__state</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">__color</span><span class="p">.</span><span class="nx">__state</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__temp</span><span class="p">.</span><span class="nx">a</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="mf">0.5</span><span class="o">&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">__color</span><span class="p">.</span><span class="nx">v</span><span class="o">||</span><span class="mf">0.5</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">__color</span><span class="p">.</span><span class="nx">s</span><span class="p">?</span><span class="mi">255</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="mi">255</span><span class="o">-</span><span class="nx">k</span><span class="p">;</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__field_knob</span><span class="p">.</span><span class="nx">style</span><span class="p">,{</span><span class="na">marginLeft</span><span class="p">:</span><span class="mi">100</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">__color</span><span class="p">.</span><span class="nx">s</span><span class="o">-</span><span class="mi">7</span><span class="o">+</span><span class="s2">"px"</span><span class="p">,</span><span class="na">marginTop</span><span class="p">:</span><span class="mi">100</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">__color</span><span class="p">.</span><span class="nx">v</span><span class="p">)</span><span class="o">-</span><span class="mi">7</span><span class="o">+</span><span class="s2">"px"</span><span class="p">,</span><span class="na">backgroundColor</span><span class="p">:</span><span class="k">this</span><span class="p">.</span><span class="nx">__temp</span><span class="p">.</span><span class="nx">toString</span><span class="p">(),</span><span class="na">border</span><span class="p">:</span><span class="k">this</span><span class="p">.</span><span class="nx">__field_knob_border</span><span class="o">+</span><span class="s2">"rgb("</span><span class="o">+</span>
<span class="nx">k</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">k</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">k</span><span class="o">+</span><span class="s2">")"</span><span class="p">});</span><span class="k">this</span><span class="p">.</span><span class="nx">__hue_knob</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">marginTop</span><span class="o">=</span><span class="mi">100</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">__color</span><span class="p">.</span><span class="nx">h</span><span class="o">/</span><span class="mi">360</span><span class="p">)</span><span class="o">+</span><span class="s2">"px"</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__temp</span><span class="p">.</span><span class="nx">s</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__temp</span><span class="p">.</span><span class="nx">v</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="nx">c</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__saturation_field</span><span class="p">,</span><span class="s2">"left"</span><span class="p">,</span><span class="s2">"#fff"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">__temp</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="p">.</span><span class="nx">style</span><span class="p">,{</span><span class="na">backgroundColor</span><span class="p">:</span><span class="k">this</span><span class="p">.</span><span class="nx">__input</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">__color</span><span class="p">.</span><span class="nx">toString</span><span class="p">(),</span><span class="na">color</span><span class="p">:</span><span class="s2">"rgb("</span><span class="o">+</span><span class="nx">k</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">k</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">k</span><span class="o">+</span><span class="s2">")"</span><span class="p">,</span><span class="na">textShadow</span><span class="p">:</span><span class="k">this</span><span class="p">.</span><span class="nx">__input_textShadow</span><span class="o">+</span><span class="s2">"rgba("</span><span class="o">+</span><span class="nx">l</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">l</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">l</span><span class="o">+</span><span class="s2">",.7)"</span><span class="p">})}});</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="p">[</span><span class="s2">"-moz-"</span><span class="p">,</span><span class="s2">"-o-"</span><span class="p">,</span><span class="s2">"-webkit-"</span><span class="p">,</span><span class="s2">"-ms-"</span><span class="p">,</span><span class="s2">""</span><span class="p">];</span><span class="k">return</span> <span class="nx">k</span><span class="p">}(</span><span class="nx">dat</span><span class="p">.</span><span class="nx">controllers</span><span class="p">.</span><span class="nx">Controller</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">dom</span><span class="p">.</span><span class="nx">dom</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">color</span><span class="p">.</span><span class="nx">Color</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span>
<span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,{</span><span class="na">get</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="s2">"RGB"</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">space</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">[</span><span class="nx">b</span><span class="p">];</span><span class="nx">p</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">[</span><span class="nx">b</span><span class="p">]},</span><span class="na">set</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="s2">"RGB"</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">space</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">p</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">space</span><span class="o">=</span><span class="s2">"RGB"</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">}})}</span><span class="kd">function</span> <span class="nx">c</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,{</span><span class="na">get</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="s2">"HSV"</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">space</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">[</span><span class="nx">b</span><span class="p">];</span><span class="nx">k</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">[</span><span class="nx">b</span><span class="p">]},</span><span class="na">set</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="s2">"HSV"</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">space</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">k</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">space</span><span class="o">=</span><span class="s2">"HSV"</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">}})}</span><span class="kd">function</span> <span class="nx">p</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="s2">"HEX"</span><span class="o">===</span>
<span class="nx">b</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">space</span><span class="p">)</span><span class="nx">b</span><span class="p">.</span><span class="nx">__state</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">component_from_hex</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">hex</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="s2">"HSV"</span><span class="o">===</span><span class="nx">b</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">space</span><span class="p">)</span><span class="nx">d</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">__state</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">hsv_to_rgb</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">h</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">s</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">v</span><span class="p">));</span><span class="k">else</span> <span class="k">throw</span><span class="s2">"Corrupted color state"</span><span class="p">;}</span><span class="kd">function</span> <span class="nx">k</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">rgb_to_hsv</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">r</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">g</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">b</span><span class="p">);</span><span class="nx">d</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">__state</span><span class="p">,{</span><span class="na">s</span><span class="p">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">s</span><span class="p">,</span><span class="na">v</span><span class="p">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">v</span><span class="p">});</span><span class="nx">d</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">h</span><span class="p">)?</span><span class="nx">d</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">h</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">h</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span><span class="nx">b</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">h</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">h</span><span class="p">}</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">)</span><span class="k">throw</span><span class="s2">"Failed to interpret color arguments"</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">a</span><span class="o">||</span>
<span class="mi">1</span><span class="p">};</span><span class="nx">l</span><span class="p">.</span><span class="nx">COMPONENTS</span><span class="o">=</span><span class="s2">"r g b h s v hex a"</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">" "</span><span class="p">);</span><span class="nx">d</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="na">toString</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">b</span><span class="p">(</span><span class="k">this</span><span class="p">)},</span><span class="na">toOriginal</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">conversion</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="k">this</span><span class="p">)}});</span><span class="nx">f</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="s2">"r"</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span><span class="nx">f</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="s2">"g"</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="nx">f</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="s2">"b"</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span><span class="nx">c</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="s2">"h"</span><span class="p">);</span><span class="nx">c</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="s2">"s"</span><span class="p">);</span><span class="nx">c</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="s2">"v"</span><span class="p">);</span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="s2">"a"</span><span class="p">,{</span><span class="na">get</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">a</span><span class="p">},</span><span class="na">set</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">}});</span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="s2">"hex"</span><span class="p">,{</span><span class="na">get</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span><span class="s2">"HEX"</span><span class="o">!==!</span><span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">space</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">hex</span><span class="o">=</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">rgb_to_hex</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">r</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">g</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">b</span><span class="p">));</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">hex</span><span class="p">},</span><span class="na">set</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">space</span><span class="o">=</span><span class="s2">"HEX"</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">__state</span><span class="p">.</span><span class="nx">hex</span><span class="o">=</span><span class="nx">a</span><span class="p">}});</span><span class="k">return</span> <span class="nx">l</span><span class="p">}(</span><span class="nx">dat</span><span class="p">.</span><span class="nx">color</span><span class="p">.</span><span class="nx">interpret</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">color</span><span class="p">.</span><span class="nx">math</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">;</span><span class="k">return</span><span class="p">{</span><span class="na">hsv_to_rgb</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="o">/</span><span class="mi">60</span><span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">a</span><span class="o">/</span><span class="mi">60</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nx">d</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nx">b</span><span class="p">),</span><span class="nx">p</span><span class="o">=</span><span class="nx">d</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nx">e</span><span class="o">*</span><span class="nx">b</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="nx">d</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nx">e</span><span class="p">)</span><span class="o">*</span><span class="nx">b</span><span class="p">);</span><span class="nx">a</span><span class="o">=</span><span class="p">[[</span><span class="nx">d</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">],[</span><span class="nx">p</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">c</span><span class="p">],[</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">b</span><span class="p">],[</span><span class="nx">c</span><span class="p">,</span><span class="nx">p</span><span class="p">,</span><span class="nx">d</span><span class="p">],[</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">],[</span><span class="nx">d</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">p</span><span class="p">]][</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">a</span><span class="o">/</span><span class="mi">60</span><span class="p">)</span><span class="o">%</span><span class="mi">6</span><span class="p">];</span><span class="k">return</span><span class="p">{</span><span class="na">r</span><span class="p">:</span><span class="mi">255</span><span class="o">*</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="na">g</span><span class="p">:</span><span class="mi">255</span><span class="o">*</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="na">b</span><span class="p">:</span><span class="mi">255</span><span class="o">*</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]}},</span><span class="na">rgb_to_hsv</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">c</span><span class="o">-</span><span class="nx">e</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="mi">0</span><span class="o">==</span><span class="nx">c</span><span class="p">)</span><span class="k">return</span><span class="p">{</span><span class="na">h</span><span class="p">:</span><span class="kc">NaN</span><span class="p">,</span><span class="na">s</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="na">v</span><span class="p">:</span><span class="mi">0</span><span class="p">};</span>
<span class="nx">a</span><span class="o">=</span><span class="p">(</span><span class="nx">a</span><span class="o">==</span><span class="nx">c</span><span class="p">?(</span><span class="nx">b</span><span class="o">-</span><span class="nx">d</span><span class="p">)</span><span class="o">/</span><span class="nx">e</span><span class="p">:</span><span class="nx">b</span><span class="o">==</span><span class="nx">c</span><span class="p">?</span><span class="mi">2</span><span class="o">+</span><span class="p">(</span><span class="nx">d</span><span class="o">-</span><span class="nx">a</span><span class="p">)</span><span class="o">/</span><span class="nx">e</span><span class="p">:</span><span class="mi">4</span><span class="o">+</span><span class="p">(</span><span class="nx">a</span><span class="o">-</span><span class="nx">b</span><span class="p">)</span><span class="o">/</span><span class="nx">e</span><span class="p">)</span><span class="o">/</span><span class="mi">6</span><span class="p">;</span><span class="mi">0</span><span class="o">&gt;</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="o">+=</span><span class="mi">1</span><span class="p">);</span><span class="k">return</span><span class="p">{</span><span class="na">h</span><span class="p">:</span><span class="mi">360</span><span class="o">*</span><span class="nx">a</span><span class="p">,</span><span class="na">s</span><span class="p">:</span><span class="nx">e</span><span class="o">/</span><span class="nx">c</span><span class="p">,</span><span class="na">v</span><span class="p">:</span><span class="nx">c</span><span class="o">/</span><span class="mi">255</span><span class="p">}},</span><span class="na">rgb_to_hex</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">hex_with_component</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="nx">a</span><span class="p">);</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">hex_with_component</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="nx">b</span><span class="p">);</span><span class="k">return</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">hex_with_component</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="p">)},</span><span class="na">component_from_hex</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">&gt;&gt;</span><span class="mi">8</span><span class="o">*</span><span class="nx">b</span><span class="o">&amp;</span><span class="mi">255</span><span class="p">},</span><span class="na">hex_with_component</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">return</span> <span class="nx">d</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="mi">8</span><span class="o">*</span><span class="nx">b</span><span class="p">)</span><span class="o">|</span><span class="nx">a</span><span class="o">&amp;~</span><span class="p">(</span><span class="mi">255</span><span class="o">&lt;&lt;</span><span class="nx">e</span><span class="p">)}}}(),</span><span class="nx">dat</span><span class="p">.</span><span class="nx">color</span><span class="p">.</span><span class="nx">toString</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">common</span><span class="p">),</span><span class="nx">dat</span><span class="p">.</span><span class="nx">color</span><span class="p">.</span><span class="nx">interpret</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">common</span><span class="p">),</span><span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">requestAnimationFrame</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nb">window</span><span class="p">.</span><span class="nx">webkitRequestAnimationFrame</span><span class="o">||</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">mozRequestAnimationFrame</span><span class="o">||</span><span class="nb">window</span><span class="p">.</span><span class="nx">oRequestAnimationFrame</span><span class="o">||</span><span class="nb">window</span><span class="p">.</span><span class="nx">msRequestAnimationFrame</span><span class="o">||</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">){</span><span class="nb">window</span><span class="p">.</span><span class="nx">setTimeout</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="mi">1</span><span class="nx">E3</span><span class="o">/</span><span class="mi">60</span><span class="p">)}}(),</span><span class="nx">dat</span><span class="p">.</span><span class="nx">dom</span><span class="p">.</span><span class="nx">CenteredDiv</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">backgroundElement</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">backgroundElement</span><span class="p">.</span><span class="nx">style</span><span class="p">,{</span><span class="na">backgroundColor</span><span class="p">:</span><span class="s2">"rgba(0,0,0,0.8)"</span><span class="p">,</span><span class="na">top</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="na">left</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="na">display</span><span class="p">:</span><span class="s2">"none"</span><span class="p">,</span><span class="na">zIndex</span><span class="p">:</span><span class="s2">"1000"</span><span class="p">,</span><span class="na">opacity</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="na">WebkitTransition</span><span class="p">:</span><span class="s2">"opacity 0.2s linear"</span><span class="p">});</span><span class="nx">e</span><span class="p">.</span><span class="nx">makeFullscreen</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">backgroundElement</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">backgroundElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">position</span><span class="o">=</span><span class="s2">"fixed"</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="o">=</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">style</span><span class="p">,{</span><span class="na">position</span><span class="p">:</span><span class="s2">"fixed"</span><span class="p">,</span><span class="na">display</span><span class="p">:</span><span class="s2">"none"</span><span class="p">,</span><span class="na">zIndex</span><span class="p">:</span><span class="s2">"1001"</span><span class="p">,</span><span class="na">opacity</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="na">WebkitTransition</span><span class="p">:</span><span class="s2">"-webkit-transform 0.2s ease-out, opacity 0.2s linear"</span><span class="p">});</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">backgroundElement</span><span class="p">);</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">);</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">backgroundElement</span><span class="p">,</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">b</span><span class="p">.</span><span class="nx">hide</span><span class="p">()})};</span><span class="nx">b</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">show</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">backgroundElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s2">"block"</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s2">"block"</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">opacity</span><span class="o">=</span>
<span class="mi">0</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">webkitTransform</span><span class="o">=</span><span class="s2">"scale(1.1)"</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">layout</span><span class="p">();</span><span class="nx">a</span><span class="p">.</span><span class="nx">defer</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">b</span><span class="p">.</span><span class="nx">backgroundElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">opacity</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">opacity</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">webkitTransform</span><span class="o">=</span><span class="s2">"scale(1)"</span><span class="p">})};</span><span class="nx">b</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hide</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">a</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s2">"none"</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">backgroundElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s2">"none"</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">domElement</span><span class="p">,</span><span class="s2">"webkitTransitionEnd"</span><span class="p">,</span><span class="nx">b</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">domElement</span><span class="p">,</span><span class="s2">"transitionend"</span><span class="p">,</span><span class="nx">b</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">domElement</span><span class="p">,</span><span class="s2">"oTransitionEnd"</span><span class="p">,</span><span class="nx">b</span><span class="p">)};</span><span class="nx">e</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">,</span><span class="s2">"webkitTransitionEnd"</span><span class="p">,</span>
<span class="nx">b</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">,</span><span class="s2">"transitionend"</span><span class="p">,</span><span class="nx">b</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">,</span><span class="s2">"oTransitionEnd"</span><span class="p">,</span><span class="nx">b</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">backgroundElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">opacity</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">opacity</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">webkitTransform</span><span class="o">=</span><span class="s2">"scale(1.1)"</span><span class="p">};</span><span class="nx">b</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">layout</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">getWidth</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="s2">"px"</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">innerHeight</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">getHeight</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="s2">"px"</span><span class="p">};</span><span class="k">return</span> <span class="nx">b</span><span class="p">}(</span><span class="nx">dat</span><span class="p">.</span><span class="nx">dom</span><span class="p">.</span><span class="nx">dom</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">common</span><span class="p">),</span><span class="nx">dat</span><span class="p">.</span><span class="nx">dom</span><span class="p">.</span><span class="nx">dom</span><span class="p">,</span><span class="nx">dat</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">common</span><span class="p">);</span>
</code></pre>
<meta content="../" name="loadPath">
<footer class="footer">
  <p><a href="https://github.com/samme/phaser-examples-mirror">phaser-examples-mirror</a> from <a href="https://github.com/photonstorm/phaser-examples">photonstorm/phaser-examples</a> (<a href="http://opensource.org/licenses/MIT">MIT License</a>).</p>
  
  <p>This license does <strong>not</strong> cover the graphics or audio files herein. None of them are to be used in commercial games.</p>
  
</footer>
<script>
  this.loadPath = "../";
</script>
<script src="../js/node_modules/phaser-ce/build/phaser.js" defer="defer"></script>
<script src="../js/node_modules/phaser-examples/examples/time/slow%20down%20time.js" defer="defer"></script>
<script src="../js/example.js" defer="defer"></script>